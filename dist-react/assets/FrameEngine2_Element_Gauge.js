var Ro=Object.defineProperty;var $o=(t,e,n)=>e in t?Ro(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var R=(t,e,n)=>$o(t,typeof e!="symbol"?e+"":e,n);import{r as Oo,u as Go,d as _o,T as Lo,a as A,_ as y,b as Dt,c as mt,e as Fo,f as Bt,g as No,j as G,h as Uo,i as Vi,s as un,k as Ho,l as zo,m as cn,n as Yo,R as jo}from"./visualization.js";function Xo(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:Oo(e.components[n].defaultProps,r)}function qo({props:t,name:e,defaultTheme:n,themeId:r}){let i=Go(n);return i=i[r]||i,Xo({theme:i,name:e,props:t})}function Wo({props:t,name:e}){return qo({props:t,name:e,defaultTheme:_o,themeId:Lo})}function Ko(t){return t&&t.ownerDocument||document}function Vo(t){return Ko(t).defaultView||window}const Bo="DEFAULT_X_AXIS_KEY",Zo="DEFAULT_Y_AXIS_KEY",Qo={top:20,bottom:20,left:20,right:20},Jo=45,ta=25,Bi=20;class ea{constructor(e){R(this,"subscribe",e=>(this.listeners.add(e),()=>{this.listeners.delete(e)}));R(this,"getSnapshot",()=>this.value);R(this,"update",e=>{const n=e(this.value);n!==this.value&&(this.value=n,this.listeners.forEach(r=>r(n)))});this.value=e,this.listeners=new Set}}const ln=({params:t,store:e})=>{A.useEffect(()=>{e.update(r=>y({},r,{animation:y({},r.animation,{skip:t.skipAnimation})}))},[e,t.skipAnimation]);const n=A.useCallback(()=>{let r=!1;return e.update(i=>y({},i,{animation:y({},i.animation,{skipAnimationRequests:i.animation.skipAnimationRequests+1})})),()=>{r||(r=!0,e.update(i=>y({},i,{animation:y({},i.animation,{skipAnimationRequests:i.animation.skipAnimationRequests-1})})))}},[e]);return Dt(()=>{if(typeof window>"u"||!(window!=null&&window.matchMedia))return;let i;const s=o=>{o.matches?i=n():i==null||i()},a=window.matchMedia("(prefers-reduced-motion)");return s(a),a.addEventListener("change",s),()=>{a.removeEventListener("change",s)}},[n,e]),{instance:{disableAnimation:n}}};ln.params={skipAnimation:!0};ln.getDefaultizedParams=({params:t})=>y({},t,{skipAnimation:t.skipAnimation??!1});ln.getInitialState=({skipAnimation:t})=>({animation:{skip:t,skipAnimationRequests:0}});var Xe=Symbol("NOT_FOUND");function na(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function ra(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function ia(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var qr=t=>Array.isArray(t)?t:[t];function sa(t){const e=Array.isArray(t[0])?t[0]:t;return ia(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function oa(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}function aa(t){let e;return{get(n){return e&&t(e.key,n)?e.value:Xe},put(n,r){e={key:n,value:r}},getEntries(){return e?[e]:[]},clear(){e=void 0}}}function ua(t,e){let n=[];function r(o){const c=n.findIndex(u=>e(o,u.key));if(c>-1){const u=n[c];return c>0&&(n.splice(c,1),n.unshift(u)),u.value}return Xe}function i(o,c){r(o)===Xe&&(n.unshift({key:o,value:c}),n.length>t&&n.pop())}function s(){return n}function a(){n=[]}return{get:r,put:i,getEntries:s,clear:a}}var ca=(t,e)=>t===e;function la(t){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;const{length:i}=n;for(let s=0;s<i;s++)if(!t(n[s],r[s]))return!1;return!0}}function ha(t,e){const n=typeof e=="object"?e:{equalityCheck:e},{equalityCheck:r=ca,maxSize:i=1,resultEqualityCheck:s}=n,a=la(r);let o=0;const c=i<=1?aa(a):ua(i,a);function u(){let l=c.get(arguments);if(l===Xe){if(l=t.apply(null,arguments),o++,s){const d=c.getEntries().find(f=>s(f.value,l));d&&(l=d.value,o!==0&&o--)}c.put(arguments,l)}return l}return u.clearCache=()=>{c.clear(),u.resetResultsCount()},u.resultsCount=()=>o,u.resetResultsCount=()=>{o=0},u}var da=class{constructor(t){this.value=t}deref(){return this.value}},fa=typeof WeakRef<"u"?WeakRef:da,ma=0,Wr=1;function Oe(){return{s:ma,v:void 0,o:null,p:null}}function Zi(t,e={}){let n=Oe();const{resultEqualityCheck:r}=e;let i,s=0;function a(){var h;let o=n;const{length:c}=arguments;for(let d=0,f=c;d<f;d++){const m=arguments[d];if(typeof m=="function"||typeof m=="object"&&m!==null){let p=o.o;p===null&&(o.o=p=new WeakMap);const g=p.get(m);g===void 0?(o=Oe(),p.set(m,o)):o=g}else{let p=o.p;p===null&&(o.p=p=new Map);const g=p.get(m);g===void 0?(o=Oe(),p.set(m,o)):o=g}}const u=o;let l;if(o.s===Wr)l=o.v;else if(l=t.apply(null,arguments),s++,r){const d=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;d!=null&&r(d,l)&&(l=d,s!==0&&s--),i=typeof l=="object"&&l!==null||typeof l=="function"?new fa(l):l}return u.s=Wr,u.v=l,l}return a.clearCache=()=>{n=Oe(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function Qi(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,a=0,o,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),na(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const l={...n,...c},{memoize:h,memoizeOptions:d=[],argsMemoize:f=Zi,argsMemoizeOptions:m=[]}=l,p=qr(d),g=qr(m),w=sa(i),T=h(function(){return s++,u.apply(null,arguments)},...p),M=f(function(){a++;const C=oa(w,arguments);return o=T.apply(null,C),o},...g);return Object.assign(M,{resultFunc:u,memoizedResultFunc:T,dependencies:w,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:f})};return Object.assign(r,{withTypes:()=>r}),r}var pa=Qi(Zi),ga=Object.assign((t,e=pa)=>{ra(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((a,o,c)=>(a[n[c]]=o,a),{}))},{withTypes:()=>ga});const ya=Qi({memoize:ha,memoizeOptions:{maxSize:1,equalityCheck:Object.is}}),Kr=new WeakMap,I=(...t)=>(n,...r)=>{const i=n.cacheKey;let s=Kr.get(i);s||(s=new Map,Kr.set(i,s));const a=s.get(t);if(a)return a(n,...r);const o=ya(...t);return s.set(t,o),o(n,...r)},va=t=>t.animation,xa=I([va],t=>t.skip||t.skipAnimationRequests>0);var Ji={exports:{}},ts={},es={exports:{}},ns={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jt=A;function wa(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ma=typeof Object.is=="function"?Object.is:wa,ba=Jt.useState,Ca=Jt.useEffect,Ea=Jt.useLayoutEffect,Ta=Jt.useDebugValue;function Sa(t,e){var n=e(),r=ba({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return Ea(function(){i.value=n,i.getSnapshot=e,$n(i)&&s({inst:i})},[t,n,e]),Ca(function(){return $n(i)&&s({inst:i}),t(function(){$n(i)&&s({inst:i})})},[t]),Ta(n),n}function $n(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ma(t,n)}catch{return!0}}function Aa(t,e){return e()}var Ia=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Aa:Sa;ns.useSyncExternalStore=Jt.useSyncExternalStore!==void 0?Jt.useSyncExternalStore:Ia;es.exports=ns;var Da=es.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hn=A,Pa=Da;function ka(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ra=typeof Object.is=="function"?Object.is:ka,$a=Pa.useSyncExternalStore,Oa=hn.useRef,Ga=hn.useEffect,_a=hn.useMemo,La=hn.useDebugValue;ts.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=Oa(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=_a(function(){function c(f){if(!u){if(u=!0,l=f,f=r(f),i!==void 0&&a.hasValue){var m=a.value;if(i(m,f))return h=m}return h=f}if(m=h,Ra(l,f))return m;var p=r(f);return i!==void 0&&i(m,p)?(l=f,m):(l=f,h=p)}var u=!1,l,h,d=n===void 0?null:n;return[function(){return c(e())},d===null?void 0:function(){return c(d())}]},[e,n,r,i]);var o=$a(t,s[0],s[1]);return Ga(function(){a.hasValue=!0,a.value=o},[o]),La(o),o};Ji.exports=ts;var Fa=Ji.exports;const Na=Object.is,Z=(t,e,n=[],r=Na)=>{const i=s=>e(s,...n);return Fa.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getSnapshot,i,r)},lt=t=>{var e;return(e=t.cartesianAxis)==null?void 0:e.x},ht=t=>{var e;return(e=t.cartesianAxis)==null?void 0:e.y},Ua=I([ht],t=>(t??[]).reduce((e,n)=>{var r;return n.position==="left"?e+(n.width||0)+((r=n.zoom)!=null&&r.slider.enabled?n.zoom.slider.size:0):e},0)),Ha=I([ht],t=>(t??[]).reduce((e,n)=>{var r;return n.position==="right"?e+(n.width||0)+((r=n.zoom)!=null&&r.slider.enabled?n.zoom.slider.size:0):e},0)),za=I([lt],t=>(t??[]).reduce((e,n)=>{var r;return n.position==="top"?e+(n.height||0)+((r=n.zoom)!=null&&r.slider.enabled?n.zoom.slider.size:0):e},0)),Ya=I([lt],t=>(t??[]).reduce((e,n)=>{var r;return n.position==="bottom"?e+(n.height||0)+((r=n.zoom)!=null&&r.slider.enabled?n.zoom.slider.size:0):e},0)),ja=t=>t.dimensions,rs=t=>t.dimensions.width,is=t=>t.dimensions.height,Xa=t=>t.dimensions.margin.top,qa=t=>t.dimensions.margin.right,Wa=t=>t.dimensions.margin.bottom,Ka=t=>t.dimensions.margin.left,Ct=I([rs,is,Xa,qa,Wa,Ka,za,Ha,Ya,Ua],(t,e,n,r,i,s,a,o,c,u)=>({width:t-s-r-u-o,left:s+u,right:r+o,height:e-n-i-a-c,top:n+a,bottom:i+c})),Va=I([ja],t=>({width:t.propsWidth,height:t.propsHeight})),Ba=I([rs,is],(t,e)=>({width:t,height:e}));function ss(t,e){return typeof t=="number"?{top:t,bottom:t,left:t,right:t}:e?y({},e,t):t}const Za=10,dn=({params:t,store:e,svgRef:n})=>{const r=t.width!==void 0&&t.height!==void 0,i=A.useRef({displayError:!1,initialCompute:!0,computeRun:0}),[s,a]=A.useState(0),[o,c]=A.useState(0),u=A.useCallback(()=>{const m=n==null?void 0:n.current;if(!m)return{};const g=Vo(m).getComputedStyle(m),w=Math.floor(parseFloat(g.height))||0,T=Math.floor(parseFloat(g.width))||0;return e.update(M=>M.dimensions.width===T&&M.dimensions.height===w?M:y({},M,{dimensions:{margin:{top:t.margin.top,right:t.margin.right,bottom:t.margin.bottom,left:t.margin.left},width:t.width??T,height:t.height??w,propsWidth:t.width,propsHeight:t.height}})),{height:w,width:T}},[e,n,t.height,t.width,t.margin.left,t.margin.right,t.margin.top,t.margin.bottom]);A.useEffect(()=>{e.update(m=>{const p=t.width??m.dimensions.width,g=t.height??m.dimensions.height;return y({},m,{dimensions:{margin:{top:t.margin.top,right:t.margin.right,bottom:t.margin.bottom,left:t.margin.left},width:p,height:g,propsHeight:t.height,propsWidth:t.width}})})},[e,t.height,t.width,t.margin.left,t.margin.right,t.margin.top,t.margin.bottom]),A.useEffect(()=>{i.current.displayError=!0},[]),Dt(()=>{if(r||!i.current.initialCompute||i.current.computeRun>Za)return;const m=u();m.width!==s||m.height!==o?(i.current.computeRun+=1,m.width!==void 0&&a(m.width),m.height!==void 0&&c(m.height)):i.current.initialCompute&&(i.current.initialCompute=!1)},[o,s,u,r]),Dt(()=>{if(r)return()=>{};u();const m=n.current;if(typeof ResizeObserver>"u")return()=>{};let p;const g=new ResizeObserver(()=>{p=requestAnimationFrame(()=>{u()})});return m&&g.observe(m),()=>{p&&cancelAnimationFrame(p),m&&g.unobserve(m)}},[u,r,n]);const l=Z(e,Ct),h=A.useCallback(m=>m>=l.left-1&&m<=l.left+l.width,[l.left,l.width]),d=A.useCallback(m=>m>=l.top-1&&m<=l.top+l.height,[l.height,l.top]);return{instance:{isPointInside:A.useCallback((m,p,g)=>g&&"closest"in g&&g.closest("[data-drawing-container]")?!0:h(m)&&d(p),[h,d]),isXInside:h,isYInside:d}}};dn.params={width:!0,height:!0,margin:!0};dn.getDefaultizedParams=({params:t})=>y({},t,{margin:ss(t.margin,Qo)});dn.getInitialState=({width:t,height:e,margin:n})=>({dimensions:{margin:n,width:t??0,height:e??0,propsWidth:t,propsHeight:e}});const ar=({params:t,store:e})=>(Dt(()=>{e.update(n=>y({},n,{experimentalFeatures:t.experimentalFeatures}))},[e,t.experimentalFeatures]),{});ar.params={experimentalFeatures:!0};ar.getInitialState=({experimentalFeatures:t})=>({experimentalFeatures:t});const Qa=t=>t.experimentalFeatures,fn=I([Qa],t=>!!(t!=null&&t.preferStrictDomainInLineCharts));let Vr=0;const Ja=()=>(Vr+=1,`mui-chart-${Vr}`),ur=({params:t,store:e})=>(A.useEffect(()=>{e.update(n=>t.id===void 0||t.id===n.id.providedChartId&&n.id.chartId!==void 0?n:y({},n,{id:y({},n.id,{chartId:t.id??Ja()})}))},[e,t.id]),{});ur.params={id:!0};ur.getInitialState=({id:t})=>({id:{chartId:t,providedChartId:t}});const tu=t=>t.id,eu=I([tu],t=>t.chartId),nu=["#4254FB","#FFB422","#FA4F58","#0DBEFF","#22BF75","#FA83B4","#FF7511"],ru=["#495AFB","#FFC758","#F35865","#30C8FF","#44CE8D","#F286B3","#FF8C39"],os=t=>t==="dark"?ru:nu,as=({series:t,colors:e,seriesConfig:n,dataset:r})=>{const i={};t.forEach((a,o)=>{var l;const c=n[a.type].getSeriesWithDefaultValues(a,o,e),u=c.id;if(i[a.type]===void 0&&(i[a.type]={series:{},seriesOrder:[]}),((l=i[a.type])==null?void 0:l.series[u])!==void 0)throw new Error(`MUI X Charts: series' id "${u}" is not unique.`);i[a.type].series[u]=c,i[a.type].seriesOrder.push(u)});const s={};return Object.keys(n).forEach(a=>{var c,u;const o=i[a];o!==void 0&&(s[a]=((u=(c=n[a])==null?void 0:c.seriesProcessor)==null?void 0:u.call(c,o,r))??i[a])}),s},mn=({params:t,store:e,seriesConfig:n})=>{const{series:r,dataset:i,theme:s,colors:a}=t,o=A.useRef(!0);return A.useEffect(()=>{if(o.current){o.current=!1;return}e.update(c=>y({},c,{series:y({},c.series,{processedSeries:as({series:r,colors:typeof a=="function"?a(s):a,seriesConfig:n,dataset:i})})}))},[a,i,r,s,n,e]),{}};mn.params={dataset:!0,series:!0,colors:!0,theme:!0};const iu=[];mn.getDefaultizedParams=({params:t})=>{var e;return y({},t,{series:(e=t.series)!=null&&e.length?t.series:iu,colors:t.colors??os,theme:t.theme??"light"})};mn.getInitialState=({series:t=[],colors:e,theme:n,dataset:r},i,s)=>({series:{seriesConfig:s,processedSeries:as({series:t,colors:typeof e=="function"?e(n):e,seriesConfig:s,dataset:r})}});const us=t=>t.series,pt=I([us],t=>t.processedSeries),ae=I([us],t=>t.seriesConfig),su={abort:!0,animationcancel:!0,animationend:!0,animationiteration:!0,animationstart:!0,auxclick:!0,beforeinput:!0,beforetoggle:!0,blur:!0,cancel:!0,canplay:!0,canplaythrough:!0,change:!0,click:!0,close:!0,compositionend:!0,compositionstart:!0,compositionupdate:!0,contextlost:!0,contextmenu:!0,contextrestored:!0,copy:!0,cuechange:!0,cut:!0,dblclick:!0,drag:!0,dragend:!0,dragenter:!0,dragleave:!0,dragover:!0,dragstart:!0,drop:!0,durationchange:!0,emptied:!0,ended:!0,error:!0,focus:!0,focusin:!0,focusout:!0,formdata:!0,gotpointercapture:!0,input:!0,invalid:!0,keydown:!0,keypress:!0,keyup:!0,load:!0,loadeddata:!0,loadedmetadata:!0,loadstart:!0,lostpointercapture:!0,mousedown:!0,mouseenter:!0,mouseleave:!0,mousemove:!0,mouseout:!0,mouseover:!0,mouseup:!0,paste:!0,pause:!0,play:!0,playing:!0,pointercancel:!0,pointerdown:!0,pointerenter:!0,pointerleave:!0,pointermove:!0,pointerout:!0,pointerover:!0,pointerup:!0,progress:!0,ratechange:!0,reset:!0,resize:!0,scroll:!0,scrollend:!0,securitypolicyviolation:!0,seeked:!0,seeking:!0,select:!0,selectionchange:!0,selectstart:!0,slotchange:!0,stalled:!0,submit:!0,suspend:!0,timeupdate:!0,toggle:!0,touchcancel:!0,touchend:!0,touchmove:!0,touchstart:!0,transitioncancel:!0,transitionend:!0,transitionrun:!0,transitionstart:!0,volumechange:!0,waiting:!0,webkitanimationend:!0,webkitanimationiteration:!0,webkitanimationstart:!0,webkittransitionend:!0,wheel:!0,beforematch:!0,pointerrawupdate:!0};class cs{constructor(e){R(this,"customData",{});R(this,"handleOptionsChange",e=>{e&&e.detail&&this.updateOptions(e.detail)});R(this,"handleStateChange",e=>{e&&e.detail&&this.updateState(e.detail)});if(!e||!e.name)throw new Error("Gesture must be initialized with a valid name.");if(e.name in su)throw new Error(`Gesture can't be created with a native event name. Tried to use "${e.name}". Please use a custom name instead.`);this.name=e.name,this.preventDefault=e.preventDefault??!1,this.stopPropagation=e.stopPropagation??!1,this.preventIf=e.preventIf??[],this.requiredKeys=e.requiredKeys??[],this.pointerMode=e.pointerMode??[],this.pointerOptions=e.pointerOptions??{}}init(e,n,r,i){this.element=e,this.pointerManager=n,this.gesturesRegistry=r,this.keyboardManager=i;const s=`${this.name}ChangeOptions`;this.element.addEventListener(s,this.handleOptionsChange);const a=`${this.name}ChangeState`;this.element.addEventListener(a,this.handleStateChange)}updateOptions(e){this.preventDefault=e.preventDefault??this.preventDefault,this.stopPropagation=e.stopPropagation??this.stopPropagation,this.preventIf=e.preventIf??this.preventIf,this.requiredKeys=e.requiredKeys??this.requiredKeys,this.pointerMode=e.pointerMode??this.pointerMode,this.pointerOptions=e.pointerOptions??this.pointerOptions}getBaseConfig(){return{requiredKeys:this.requiredKeys}}getEffectiveConfig(e,n){if(e!=="mouse"&&e!=="touch"&&e!=="pen")return n;const r=this.pointerOptions[e];return r?y({},n,r):n}updateState(e){Object.assign(this.state,e)}getTargetElement(e){return this.isActive||this.element===e.target||"contains"in this.element&&this.element.contains(e.target)||"getRootNode"in this.element&&this.element.getRootNode()instanceof ShadowRoot&&e.composedPath().includes(this.element)?this.element:null}set isActive(e){e?this.gesturesRegistry.registerActiveGesture(this.element,this):this.gesturesRegistry.unregisterActiveGesture(this.element,this)}get isActive(){return this.gesturesRegistry.isGestureActive(this.element,this)??!1}shouldPreventGesture(e,n){const r=this.getEffectiveConfig(n,this.getBaseConfig());if(!this.keyboardManager.areKeysPressed(r.requiredKeys))return!0;if(this.preventIf.length===0)return!1;const i=this.gesturesRegistry.getActiveGestures(e);return this.preventIf.some(s=>i[s])}isPointerTypeAllowed(e){return!this.pointerMode||this.pointerMode.length===0?!0:this.pointerMode.includes(e)}destroy(){const e=`${this.name}ChangeOptions`;this.element.removeEventListener(e,this.handleOptionsChange);const n=`${this.name}ChangeState`;this.element.removeEventListener(n,this.handleStateChange)}}class ou{constructor(){R(this,"activeGestures",new Map)}registerActiveGesture(e,n){this.activeGestures.has(e)||this.activeGestures.set(e,new Set);const r=this.activeGestures.get(e),i={gesture:n,element:e};r.add(i)}unregisterActiveGesture(e,n){const r=this.activeGestures.get(e);r&&(r.forEach(i=>{i.gesture===n&&r.delete(i)}),r.size===0&&this.activeGestures.delete(e))}getActiveGestures(e){const n=this.activeGestures.get(e);return n?Array.from(n).reduce((r,i)=>(r[i.gesture.name]=!0,r),{}):{}}isGestureActive(e,n){const r=this.activeGestures.get(e);return r?Array.from(r).some(i=>i.gesture===n):!1}destroy(){this.activeGestures.clear()}unregisterElement(e){this.activeGestures.delete(e)}}class au{constructor(){R(this,"pressedKeys",new Set);R(this,"handleKeyDown",e=>{this.pressedKeys.add(e.key)});R(this,"handleKeyUp",e=>{this.pressedKeys.delete(e.key)});R(this,"clearKeys",()=>{this.pressedKeys.clear()});this.initialize()}initialize(){typeof window>"u"||(window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp),window.addEventListener("blur",this.clearKeys))}areKeysPressed(e){return!e||e.length===0?!0:e.every(n=>n==="ControlOrMeta"?navigator.platform.includes("Mac")?this.pressedKeys.has("Meta"):this.pressedKeys.has("Control"):this.pressedKeys.has(n))}destroy(){typeof window<"u"&&(window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("keyup",this.handleKeyUp),window.removeEventListener("blur",this.clearKeys)),this.clearKeys()}}class uu{constructor(e){R(this,"preventEventInterruption",!0);R(this,"pointers",new Map);R(this,"gestureHandlers",new Set);R(this,"handleInterruptEvents",e=>{if(this.preventEventInterruption&&"pointerType"in e&&e.pointerType==="touch"){e.preventDefault();return}const n=new PointerEvent("forceCancel",{bubbles:!1,cancelable:!1}),r=this.pointers.values().next().value;if(this.pointers.size>0&&r){Object.defineProperties(n,{clientX:{value:r.clientX},clientY:{value:r.clientY},pointerId:{value:r.pointerId},pointerType:{value:r.pointerType}});for(const[i,s]of this.pointers.entries()){const a=y({},s,{type:"forceCancel"});this.pointers.set(i,a)}}this.notifyHandlers(n),this.pointers.clear()});R(this,"handlePointerEvent",e=>{const{type:n,pointerId:r}=e;if(n==="pointerdown"||n==="pointermove")this.pointers.set(r,this.createPointerData(e));else if(n==="pointerup"||n==="pointercancel"||n==="forceCancel"){this.pointers.set(r,this.createPointerData(e)),this.notifyHandlers(e),this.pointers.delete(r);return}this.notifyHandlers(e)});this.root=e.root??document.getRootNode({composed:!0})??document.body,this.touchAction=e.touchAction||"auto",this.passive=e.passive??!1,this.preventEventInterruption=e.preventEventInterruption??!0,this.setupEventListeners()}registerGestureHandler(e){return this.gestureHandlers.add(e),()=>{this.gestureHandlers.delete(e)}}getPointers(){return new Map(this.pointers)}setupEventListeners(){this.touchAction!=="auto"&&(this.root.style.touchAction=this.touchAction),this.root.addEventListener("pointerdown",this.handlePointerEvent,{passive:this.passive}),this.root.addEventListener("pointermove",this.handlePointerEvent,{passive:this.passive}),this.root.addEventListener("pointerup",this.handlePointerEvent,{passive:this.passive}),this.root.addEventListener("pointercancel",this.handlePointerEvent,{passive:this.passive}),this.root.addEventListener("forceCancel",this.handlePointerEvent,{passive:this.passive}),this.root.addEventListener("blur",this.handleInterruptEvents),this.root.addEventListener("contextmenu",this.handleInterruptEvents)}notifyHandlers(e){this.gestureHandlers.forEach(n=>n(this.pointers,e))}createPointerData(e){return{pointerId:e.pointerId,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,target:e.target,timeStamp:e.timeStamp,type:e.type,isPrimary:e.isPrimary,pressure:e.pressure,width:e.width,height:e.height,pointerType:e.pointerType,srcEvent:e}}destroy(){this.root.removeEventListener("pointerdown",this.handlePointerEvent),this.root.removeEventListener("pointermove",this.handlePointerEvent),this.root.removeEventListener("pointerup",this.handlePointerEvent),this.root.removeEventListener("pointercancel",this.handlePointerEvent),this.root.removeEventListener("forceCancel",this.handlePointerEvent),this.root.removeEventListener("blur",this.handleInterruptEvents),this.root.removeEventListener("contextmenu",this.handleInterruptEvents),this.pointers.clear(),this.gestureHandlers.clear()}}class cu{constructor(e){R(this,"gestureTemplates",new Map);R(this,"elementGestureMap",new Map);R(this,"activeGesturesRegistry",new ou);R(this,"keyboardManager",new au);this.pointerManager=new uu({root:e.root,touchAction:e.touchAction,passive:e.passive}),e.gestures&&e.gestures.length>0&&e.gestures.forEach(n=>{this.addGestureTemplate(n)})}addGestureTemplate(e){this.gestureTemplates.has(e.name)&&console.warn(`Gesture template with name "${e.name}" already exists. It will be overwritten.`),this.gestureTemplates.set(e.name,e)}setGestureOptions(e,n,r){const i=this.elementGestureMap.get(n);if(!i||!i.has(e)){console.error(`Gesture "${e}" not found on the provided element.`);return}const s=new CustomEvent(`${e}ChangeOptions`,{detail:r,bubbles:!1,cancelable:!1,composed:!1});n.dispatchEvent(s)}setGestureState(e,n,r){const i=this.elementGestureMap.get(n);if(!i||!i.has(e)){console.error(`Gesture "${e}" not found on the provided element.`);return}const s=new CustomEvent(`${e}ChangeState`,{detail:r,bubbles:!1,cancelable:!1,composed:!1});n.dispatchEvent(s)}registerElement(e,n,r){return Array.isArray(e)||(e=[e]),e.forEach(i=>{const s=r==null?void 0:r[i];this.registerSingleGesture(i,n,s)}),n}registerSingleGesture(e,n,r){const i=this.gestureTemplates.get(e);if(!i)return console.error(`Gesture template "${e}" not found.`),!1;this.elementGestureMap.has(n)||this.elementGestureMap.set(n,new Map);const s=this.elementGestureMap.get(n);s.has(e)&&(console.warn(`Element already has gesture "${e}" registered. It will be replaced.`),this.unregisterElement(e,n));const a=i.clone(r);return a.init(n,this.pointerManager,this.activeGesturesRegistry,this.keyboardManager),s.set(e,a),!0}unregisterElement(e,n){const r=this.elementGestureMap.get(n);return!r||!r.has(e)?!1:(r.get(e).destroy(),r.delete(e),this.activeGesturesRegistry.unregisterElement(n),r.size===0&&this.elementGestureMap.delete(n),!0)}unregisterAllGestures(e){const n=this.elementGestureMap.get(e);if(n){for(const[,r]of n)r.destroy(),this.activeGesturesRegistry.unregisterElement(e);this.elementGestureMap.delete(e)}}destroy(){for(const[e]of this.elementGestureMap)this.unregisterAllGestures(e);this.gestureTemplates.clear(),this.elementGestureMap.clear(),this.activeGesturesRegistry.destroy(),this.keyboardManager.destroy(),this.pointerManager.destroy()}}class zt extends cs{constructor(n){super(n);R(this,"unregisterHandler",null);R(this,"originalTarget",null);this.minPointers=n.minPointers??1,this.maxPointers=n.maxPointers??1/0}init(n,r,i,s){super.init(n,r,i,s),this.unregisterHandler=this.pointerManager.registerGestureHandler(this.handlePointerEvent)}updateOptions(n){super.updateOptions(n),this.minPointers=n.minPointers??this.minPointers,this.maxPointers=n.maxPointers??this.maxPointers}getBaseConfig(){return{requiredKeys:this.requiredKeys,minPointers:this.minPointers,maxPointers:this.maxPointers}}isWithinPointerCount(n,r){const i=this.getEffectiveConfig(r,this.getBaseConfig());return n.length>=i.minPointers&&n.length<=i.maxPointers}getRelevantPointers(n,r){return n.filter(i=>this.isPointerTypeAllowed(i.pointerType)&&(r===i.target||i.target===this.originalTarget||r===this.originalTarget||"contains"in r&&r.contains(i.target))||"getRootNode"in r&&r.getRootNode()instanceof ShadowRoot&&i.srcEvent.composedPath().includes(r))}destroy(){this.unregisterHandler&&(this.unregisterHandler(),this.unregisterHandler=null),super.destroy()}}function lu(t,e){const n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}function On(t){if(t.length<2)return 0;let e=0,n=0;for(let r=0;r<t.length;r+=1)for(let i=r+1;i<t.length;i+=1)e+=lu({x:t[r].clientX,y:t[r].clientY},{x:t[i].clientX,y:t[i].clientY}),n+=1;return n>0?e/n:0}function xt(t){if(t.length===0)return{x:0,y:0};const e=t.reduce((n,r)=>(n.x+=r.clientX,n.y+=r.clientY,n),{x:0,y:0});return{x:e.x/t.length,y:e.y/t.length}}function ot(t,e){return`${t}${e==="ongoing"?"":e.charAt(0).toUpperCase()+e.slice(1)}`}const Ge=1e-5,At=1e-5,Br=.15;function hu(t,e){const n=e.x-t.x,r=e.y-t.y,i={vertical:null,horizontal:null,mainAxis:null},s=du(e,t),a=Math.abs(n)>Math.abs(r)?"horizontal":"vertical",o=s||a==="horizontal"?Ge:Br,c=s?Ge:a==="horizontal"?Br:Ge;return Math.abs(n)>o&&(i.horizontal=n>0?"right":"left"),Math.abs(r)>c&&(i.vertical=r>0?"down":"up"),i.mainAxis=s?"diagonal":a,i}function du(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.atan2(r,n)*180/Math.PI;return i>=-45+At&&i<=-22.5+At||i>=22.5+At&&i<=45+At||i>=135+At&&i<=157.5+At||i>=-157.5+At&&i<=-135+At}function fu(t,e){if(!t.vertical&&!t.horizontal)return!1;if(e.length===0)return!0;const n=t.vertical===null||e.includes(t.vertical),r=t.horizontal===null||e.includes(t.horizontal);return n&&r}const Zr=0,mu=t=>t>Zr?1:t<-Zr?-1:0,It=t=>{t.cancelable&&t.preventDefault()};class cr extends zt{constructor(n){super(n);R(this,"state",{lastPosition:null});R(this,"handleElementEnter",n=>{if(n.pointerType!=="mouse"&&n.pointerType!=="pen")return;const r=this.pointerManager.getPointers()||new Map,i=Array.from(r.values());if(this.isWithinPointerCount(i,n.pointerType)){this.isActive=!0;const s={x:n.clientX,y:n.clientY};this.state.lastPosition=s,this.emitMoveEvent(this.element,"start",i,n),this.emitMoveEvent(this.element,"ongoing",i,n)}});R(this,"handleElementLeave",n=>{if(n.pointerType!=="mouse"&&n.pointerType!=="pen"||!this.isActive)return;const r=this.pointerManager.getPointers()||new Map,i=Array.from(r.values());this.emitMoveEvent(this.element,"end",i,n),this.resetState()});R(this,"handlePointerEvent",(n,r)=>{if(r.type!=="pointermove"||r.pointerType!=="mouse"&&r.pointerType!=="pen")return;this.preventDefault&&r.preventDefault(),this.stopPropagation&&r.stopPropagation();const i=Array.from(n.values()),s=this.getTargetElement(r);if(!s||!this.isWithinPointerCount(i,r.pointerType))return;if(this.shouldPreventGesture(s,r.pointerType)){if(!this.isActive)return;this.resetState(),this.emitMoveEvent(s,"end",i,r);return}const a={x:r.clientX,y:r.clientY};this.state.lastPosition=a,this.isActive||(this.isActive=!0,this.emitMoveEvent(s,"start",i,r)),this.emitMoveEvent(s,"ongoing",i,r)});this.threshold=n.threshold||0}clone(n){return new cr(y({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,threshold:this.threshold,minPointers:this.minPointers,maxPointers:this.maxPointers,requiredKeys:[...this.requiredKeys],pointerMode:[...this.pointerMode],preventIf:[...this.preventIf],pointerOptions:structuredClone(this.pointerOptions)},n))}init(n,r,i,s){super.init(n,r,i,s),this.element.addEventListener("pointerenter",this.handleElementEnter),this.element.addEventListener("pointerleave",this.handleElementLeave)}destroy(){this.element.removeEventListener("pointerenter",this.handleElementEnter),this.element.removeEventListener("pointerleave",this.handleElementLeave),this.resetState(),super.destroy()}updateOptions(n){super.updateOptions(n)}resetState(){this.isActive=!1,this.state={lastPosition:null}}emitMoveEvent(n,r,i,s){const a=this.state.lastPosition||xt(i),o=this.gesturesRegistry.getActiveGestures(n),c={gestureName:this.name,centroid:a,target:s.target,srcEvent:s,phase:r,pointers:i,timeStamp:s.timeStamp,activeGestures:o,customData:this.customData},u=ot(this.name,r),l=new CustomEvent(u,{bubbles:!0,cancelable:!0,composed:!0,detail:c});n.dispatchEvent(l)}}class Ft extends zt{constructor(n){super(n);R(this,"state",{startPointers:new Map,startCentroid:null,lastCentroid:null,movementThresholdReached:!1,totalDeltaX:0,totalDeltaY:0,activeDeltaX:0,activeDeltaY:0,lastDirection:{vertical:null,horizontal:null,mainAxis:null},lastDeltas:null});R(this,"handlePointerEvent",(n,r)=>{const i=Array.from(n.values());if(r.type==="forceCancel"){this.cancel(r.target,i,r);return}const s=this.getTargetElement(r);if(!s)return;if(this.shouldPreventGesture(s,r.pointerType)){this.cancel(s,i,r);return}const a=this.getRelevantPointers(i,s);if(!this.isWithinPointerCount(a,r.pointerType)){this.cancel(s,a,r);return}switch(r.type){case"pointerdown":!this.isActive&&!this.state.startCentroid&&(a.forEach(o=>{this.state.startPointers.set(o.pointerId,o)}),this.originalTarget=s,this.state.startCentroid=xt(a),this.state.lastCentroid=y({},this.state.startCentroid));break;case"pointermove":if(this.state.startCentroid&&this.isWithinPointerCount(i,r.pointerType)){const o=xt(a),c=o.x-this.state.startCentroid.x,u=o.y-this.state.startCentroid.y,l=Math.sqrt(c*c+u*u),h=hu(this.state.lastCentroid??this.state.startCentroid,o),d=this.state.lastCentroid?o.x-this.state.lastCentroid.x:0,f=this.state.lastCentroid?o.y-this.state.lastCentroid.y:0;!this.state.movementThresholdReached&&l>=this.threshold&&fu(h,this.direction)?(this.state.movementThresholdReached=!0,this.isActive=!0,this.state.lastDeltas={x:d,y:f},this.state.totalDeltaX+=d,this.state.totalDeltaY+=f,this.state.activeDeltaX+=d,this.state.activeDeltaY+=f,this.emitPanEvent(s,"start",a,r,o),this.emitPanEvent(s,"ongoing",a,r,o)):this.state.movementThresholdReached&&this.isActive&&(this.state.lastDeltas={x:d,y:f},this.state.totalDeltaX+=d,this.state.totalDeltaY+=f,this.state.activeDeltaX+=d,this.state.activeDeltaY+=f,this.emitPanEvent(s,"ongoing",a,r,o)),this.state.lastCentroid=o,this.state.lastDirection=h}break;case"pointerup":case"pointercancel":case"forceCancel":if(this.isActive&&this.state.movementThresholdReached){const o=a.filter(c=>c.type!=="pointerup"&&c.type!=="pointercancel");if(!this.isWithinPointerCount(o,r.pointerType)){const c=this.state.lastCentroid||this.state.startCentroid;r.type==="pointercancel"&&this.emitPanEvent(s,"cancel",a,r,c),this.emitPanEvent(s,"end",a,r,c),this.resetState()}}else this.resetState();break}});this.direction=n.direction||["up","down","left","right"],this.threshold=n.threshold||0}clone(n){return new Ft(y({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,threshold:this.threshold,minPointers:this.minPointers,maxPointers:this.maxPointers,direction:[...this.direction],requiredKeys:[...this.requiredKeys],pointerMode:[...this.pointerMode],preventIf:[...this.preventIf],pointerOptions:structuredClone(this.pointerOptions)},n))}destroy(){this.resetState(),super.destroy()}updateOptions(n){super.updateOptions(n),this.direction=n.direction||this.direction,this.threshold=n.threshold??this.threshold}resetState(){this.isActive=!1,this.state=y({},this.state,{startPointers:new Map,startCentroid:null,lastCentroid:null,lastDeltas:null,activeDeltaX:0,activeDeltaY:0,movementThresholdReached:!1,lastDirection:{vertical:null,horizontal:null,mainAxis:null}})}emitPanEvent(n,r,i,s,a){var T,M;if(!this.state.startCentroid)return;const o=((T=this.state.lastDeltas)==null?void 0:T.x)??0,c=((M=this.state.lastDeltas)==null?void 0:M.y)??0,u=this.state.startPointers.values().next().value,l=u?(s.timeStamp-u.timeStamp)/1e3:0,h=l>0?o/l:0,d=l>0?c/l:0,f=Math.sqrt(h*h+d*d),m=this.gesturesRegistry.getActiveGestures(n),p={gestureName:this.name,initialCentroid:this.state.startCentroid,centroid:a,target:s.target,srcEvent:s,phase:r,pointers:i,timeStamp:s.timeStamp,deltaX:o,deltaY:c,direction:this.state.lastDirection,velocityX:h,velocityY:d,velocity:f,totalDeltaX:this.state.totalDeltaX,totalDeltaY:this.state.totalDeltaY,activeDeltaX:this.state.activeDeltaX,activeDeltaY:this.state.activeDeltaY,activeGestures:m,customData:this.customData},g=ot(this.name,r),w=new CustomEvent(g,{bubbles:!0,cancelable:!0,composed:!0,detail:p});n.dispatchEvent(w),this.preventDefault&&s.preventDefault(),this.stopPropagation&&s.stopPropagation()}cancel(n,r,i){if(this.isActive){const s=n??this.element;this.emitPanEvent(s,"cancel",r,i,this.state.lastCentroid),this.emitPanEvent(s,"end",r,i,this.state.lastCentroid)}this.resetState()}}class lr extends zt{constructor(n){super(y({},n,{minPointers:n.minPointers??2}));R(this,"state",{startDistance:0,lastDistance:0,lastScale:1,lastTime:0,velocity:0,totalScale:1,deltaScale:0});R(this,"handlePointerEvent",(n,r)=>{const i=Array.from(n.values()),s=this.getTargetElement(r);if(!s)return;if(this.shouldPreventGesture(s,r.pointerType)){this.isActive&&(this.emitPinchEvent(s,"cancel",i,r),this.resetState());return}const a=this.getRelevantPointers(i,s);switch(r.type){case"pointerdown":if(a.length>=2&&!this.isActive){const o=On(a);this.state.startDistance=o,this.state.lastDistance=o,this.state.lastTime=r.timeStamp,this.originalTarget=s}break;case"pointermove":if(this.state.startDistance&&this.isWithinPointerCount(a,r.pointerType)){const o=On(a),c=Math.abs(o-this.state.lastDistance);if(c!==0&&c>=this.threshold){const u=this.state.startDistance?o/this.state.startDistance:1,l=u/this.state.lastScale;this.state.totalScale*=l;const h=(r.timeStamp-this.state.lastTime)/1e3;if(this.state.lastDistance){const f=(o-this.state.lastDistance)/h;this.state.velocity=Number.isNaN(f)?0:f}this.state.lastDistance=o,this.state.deltaScale=u-this.state.lastScale,this.state.lastScale=u,this.state.lastTime=r.timeStamp,this.isActive?this.emitPinchEvent(s,"ongoing",a,r):(this.isActive=!0,this.emitPinchEvent(s,"start",a,r),this.emitPinchEvent(s,"ongoing",a,r))}}break;case"pointerup":case"pointercancel":case"forceCancel":if(this.isActive){const o=a.filter(c=>c.type!=="pointerup"&&c.type!=="pointercancel");if(!this.isWithinPointerCount(o,r.pointerType))r.type==="pointercancel"&&this.emitPinchEvent(s,"cancel",a,r),this.emitPinchEvent(s,"end",a,r),this.resetState();else if(o.length>=2){const c=On(o);this.state.startDistance=c/this.state.lastScale}}break}});this.threshold=n.threshold??0}clone(n){return new lr(y({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,threshold:this.threshold,minPointers:this.minPointers,maxPointers:this.maxPointers,requiredKeys:[...this.requiredKeys],pointerMode:[...this.pointerMode],preventIf:[...this.preventIf],pointerOptions:structuredClone(this.pointerOptions)},n))}destroy(){this.resetState(),super.destroy()}updateOptions(n){super.updateOptions(n)}resetState(){this.isActive=!1,this.state=y({},this.state,{startDistance:0,lastDistance:0,lastScale:1,lastTime:0,velocity:0,deltaScale:0})}emitPinchEvent(n,r,i,s){const a=xt(i),o=this.state.lastDistance,c=this.state.lastScale,u=this.gesturesRegistry.getActiveGestures(n),l={gestureName:this.name,centroid:a,target:s.target,srcEvent:s,phase:r,pointers:i,timeStamp:s.timeStamp,scale:c,deltaScale:this.state.deltaScale,totalScale:this.state.totalScale,distance:o,velocity:this.state.velocity,activeGestures:u,direction:mu(this.state.velocity),customData:this.customData};this.preventDefault&&s.preventDefault(),this.stopPropagation&&s.stopPropagation();const h=ot(this.name,r),d=new CustomEvent(h,{bubbles:!0,cancelable:!0,composed:!0,detail:l});n.dispatchEvent(d)}}class pn extends zt{constructor(n){super(n);R(this,"state",{startCentroid:null,lastPosition:null,timerId:null,startTime:0,pressThresholdReached:!1});R(this,"handlePointerEvent",(n,r)=>{const i=Array.from(n.values());if(r.type==="forceCancel"){this.cancelPress(r.target,i,r);return}const s=this.getTargetElement(r);if(!s)return;if(this.shouldPreventGesture(s,r.pointerType)){this.isActive&&this.cancelPress(s,i,r);return}const a=this.getRelevantPointers(i,s);if(!this.isWithinPointerCount(a,r.pointerType)){this.isActive&&this.cancelPress(s,a,r);return}switch(r.type){case"pointerdown":!this.isActive&&!this.state.startCentroid&&(this.state.startCentroid=xt(a),this.state.lastPosition=y({},this.state.startCentroid),this.state.startTime=r.timeStamp,this.isActive=!0,this.originalTarget=s,this.clearPressTimer(),this.state.timerId=setTimeout(()=>{if(this.isActive&&this.state.startCentroid){this.state.pressThresholdReached=!0;const o=this.state.lastPosition;this.emitPressEvent(s,"start",a,r,o),this.emitPressEvent(s,"ongoing",a,r,o)}},this.duration));break;case"pointermove":if(this.isActive&&this.state.startCentroid){const o=xt(a);this.state.lastPosition=o;const c=o.x-this.state.startCentroid.x,u=o.y-this.state.startCentroid.y;Math.sqrt(c*c+u*u)>this.maxDistance&&this.cancelPress(s,a,r)}break;case"pointerup":if(this.isActive){if(this.state.pressThresholdReached){const o=this.state.lastPosition||this.state.startCentroid;this.emitPressEvent(s,"end",a,r,o)}this.resetState()}break;case"pointercancel":case"forceCancel":this.cancelPress(s,a,r);break}});this.duration=n.duration??500,this.maxDistance=n.maxDistance??10}clone(n){return new pn(y({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,minPointers:this.minPointers,maxPointers:this.maxPointers,duration:this.duration,maxDistance:this.maxDistance,requiredKeys:[...this.requiredKeys],pointerMode:[...this.pointerMode],preventIf:[...this.preventIf],pointerOptions:structuredClone(this.pointerOptions)},n))}destroy(){this.clearPressTimer(),this.resetState(),super.destroy()}updateOptions(n){super.updateOptions(n),this.duration=n.duration??this.duration,this.maxDistance=n.maxDistance??this.maxDistance}resetState(){this.clearPressTimer(),this.isActive=!1,this.state=y({},this.state,{startCentroid:null,lastPosition:null,timerId:null,startTime:0,pressThresholdReached:!1})}clearPressTimer(){this.state.timerId!==null&&(clearTimeout(this.state.timerId),this.state.timerId=null)}emitPressEvent(n,r,i,s,a){const o=this.gesturesRegistry.getActiveGestures(n),c=s.timeStamp-this.state.startTime,u={gestureName:this.name,centroid:a,target:s.target,srcEvent:s,phase:r,pointers:i,timeStamp:s.timeStamp,x:a.x,y:a.y,duration:c,activeGestures:o,customData:this.customData},l=ot(this.name,r),h=new CustomEvent(l,{bubbles:!0,cancelable:!0,composed:!0,detail:u});n.dispatchEvent(h),this.preventDefault&&s.preventDefault(),this.stopPropagation&&s.stopPropagation()}cancelPress(n,r,i){if(this.isActive&&this.state.pressThresholdReached){const s=this.state.lastPosition||this.state.startCentroid;this.emitPressEvent(n??this.element,"cancel",r,i,s),this.emitPressEvent(n??this.element,"end",r,i,s)}this.resetState()}}class hr extends zt{constructor(n){super(n);R(this,"state",{phase:"waitingForPress",dragTimeoutId:null});R(this,"pressHandler",()=>{this.state.phase==="waitingForPress"&&(this.state.phase="pressDetected",this.setTouchAction(),this.state.dragTimeoutId=setTimeout(()=>{this.resetState()},this.dragTimeout))});R(this,"dragStartHandler",n=>{this.state.phase==="pressDetected"&&(this.state.dragTimeoutId!==null&&(clearTimeout(this.state.dragTimeoutId),this.state.dragTimeoutId=null),this.restoreTouchAction(),this.state.phase="dragging",this.isActive=!0,this.element.dispatchEvent(new CustomEvent(ot(this.name,n.detail.phase),n)))});R(this,"dragMoveHandler",n=>{this.state.phase==="dragging"&&this.element.dispatchEvent(new CustomEvent(ot(this.name,n.detail.phase),n))});R(this,"dragEndHandler",n=>{this.state.phase==="dragging"&&(this.resetState(),this.element.dispatchEvent(new CustomEvent(ot(this.name,n.detail.phase),n)))});this.pressDuration=n.pressDuration??500,this.pressMaxDistance=n.pressMaxDistance??10,this.dragTimeout=n.dragTimeout??1e3,this.dragThreshold=n.dragThreshold??0,this.dragDirection=n.dragDirection||["up","down","left","right"],this.pressGesture=new pn({name:`${this.name}-press`,duration:this.pressDuration,maxDistance:this.pressMaxDistance,maxPointers:this.maxPointers,pointerMode:this.pointerMode,requiredKeys:this.requiredKeys,preventIf:this.preventIf,pointerOptions:structuredClone(this.pointerOptions)}),this.panGesture=new Ft({name:`${this.name}-pan`,minPointers:this.minPointers,maxPointers:this.maxPointers,threshold:this.dragThreshold,direction:this.dragDirection,pointerMode:this.pointerMode,requiredKeys:this.requiredKeys,preventIf:this.preventIf,pointerOptions:structuredClone(this.pointerOptions)})}clone(n){return new hr(y({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,minPointers:this.minPointers,maxPointers:this.maxPointers,pressDuration:this.pressDuration,pressMaxDistance:this.pressMaxDistance,dragTimeout:this.dragTimeout,dragThreshold:this.dragThreshold,dragDirection:[...this.dragDirection],requiredKeys:[...this.requiredKeys],pointerMode:[...this.pointerMode],preventIf:[...this.preventIf],pointerOptions:structuredClone(this.pointerOptions)},n))}init(n,r,i,s){super.init(n,r,i,s),this.pressGesture.init(n,r,i,s),this.panGesture.init(n,r,i,s),this.element.addEventListener(this.pressGesture.name,this.pressHandler),this.element.addEventListener(`${this.panGesture.name}Start`,this.dragStartHandler),this.element.addEventListener(this.panGesture.name,this.dragMoveHandler),this.element.addEventListener(`${this.panGesture.name}End`,this.dragEndHandler),this.element.addEventListener(`${this.panGesture.name}Cancel`,this.dragEndHandler)}destroy(){this.resetState(),this.pressGesture.destroy(),this.panGesture.destroy(),this.element.removeEventListener(this.pressGesture.name,this.pressHandler),this.element.removeEventListener(`${this.panGesture.name}Start`,this.dragStartHandler),this.element.removeEventListener(this.panGesture.name,this.dragMoveHandler),this.element.removeEventListener(`${this.panGesture.name}End`,this.dragEndHandler),this.element.removeEventListener(`${this.panGesture.name}Cancel`,this.dragEndHandler),super.destroy()}updateOptions(n){super.updateOptions(n),this.pressDuration=n.pressDuration??this.pressDuration,this.pressMaxDistance=n.pressMaxDistance??this.pressMaxDistance,this.dragTimeout=n.dragTimeout??this.dragTimeout,this.dragThreshold=n.dragThreshold??this.dragThreshold,this.dragDirection=n.dragDirection||this.dragDirection,this.element.dispatchEvent(new CustomEvent(`${this.panGesture.name}ChangeOptions`,{detail:{minPointers:this.minPointers,maxPointers:this.maxPointers,threshold:this.dragThreshold,direction:this.dragDirection,pointerMode:this.pointerMode,requiredKeys:this.requiredKeys,preventIf:this.preventIf,pointerOptions:structuredClone(this.pointerOptions)}})),this.element.dispatchEvent(new CustomEvent(`${this.pressGesture.name}ChangeOptions`,{detail:{duration:this.pressDuration,maxDistance:this.pressMaxDistance,maxPointers:this.maxPointers,pointerMode:this.pointerMode,requiredKeys:this.requiredKeys,preventIf:this.preventIf,pointerOptions:structuredClone(this.pointerOptions)}}))}resetState(){this.state.dragTimeoutId!==null&&clearTimeout(this.state.dragTimeoutId),this.restoreTouchAction(),this.isActive=!1,this.state={phase:"waitingForPress",dragTimeoutId:null}}handlePointerEvent(){}setTouchAction(){this.element.addEventListener("touchstart",It,{passive:!1}),this.element.addEventListener("touchmove",It,{passive:!1}),this.element.addEventListener("touchend",It,{passive:!1})}restoreTouchAction(){this.element.removeEventListener("touchstart",It),this.element.removeEventListener("touchmove",It),this.element.removeEventListener("touchend",It)}}class gn extends zt{constructor(n){super(n);R(this,"state",{startCentroid:null,currentTapCount:0,lastTapTime:0,lastPosition:null});R(this,"handlePointerEvent",(n,r)=>{const i=Array.from(n.values()),s=this.getTargetElement(r);if(!s)return;const a=this.getRelevantPointers(i,s);if(this.shouldPreventGesture(s,r.pointerType)||!this.isWithinPointerCount(a,r.pointerType)){this.isActive&&this.cancelTap(s,a,r);return}switch(r.type){case"pointerdown":this.isActive||(this.state.startCentroid=xt(a),this.state.lastPosition=y({},this.state.startCentroid),this.isActive=!0,this.originalTarget=s);break;case"pointermove":if(this.isActive&&this.state.startCentroid){const o=xt(a);this.state.lastPosition=o;const c=o.x-this.state.startCentroid.x,u=o.y-this.state.startCentroid.y;Math.sqrt(c*c+u*u)>this.maxDistance&&this.cancelTap(s,a,r)}break;case"pointerup":if(this.isActive){this.state.currentTapCount+=1;const o=this.state.lastPosition||this.state.startCentroid;if(!o){this.cancelTap(s,a,r);return}this.state.currentTapCount>=this.taps?(this.fireTapEvent(s,a,r,o),this.resetState()):(this.state.lastTapTime=r.timeStamp,this.isActive=!1,this.state.startCentroid=null,setTimeout(()=>{this.state&&this.state.currentTapCount>0&&this.state.currentTapCount<this.taps&&(this.state.currentTapCount=0)},300))}break;case"pointercancel":case"forceCancel":this.cancelTap(s,a,r);break}});this.maxDistance=n.maxDistance??10,this.taps=n.taps??1}clone(n){return new gn(y({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,minPointers:this.minPointers,maxPointers:this.maxPointers,maxDistance:this.maxDistance,taps:this.taps,requiredKeys:[...this.requiredKeys],pointerMode:[...this.pointerMode],preventIf:[...this.preventIf],pointerOptions:structuredClone(this.pointerOptions)},n))}destroy(){this.resetState(),super.destroy()}updateOptions(n){super.updateOptions(n),this.maxDistance=n.maxDistance??this.maxDistance,this.taps=n.taps??this.taps}resetState(){this.isActive=!1,this.state={startCentroid:null,currentTapCount:0,lastTapTime:0,lastPosition:null}}fireTapEvent(n,r,i,s){const a=this.gesturesRegistry.getActiveGestures(n),o={gestureName:this.name,centroid:s,target:i.target,srcEvent:i,phase:"end",pointers:r,timeStamp:i.timeStamp,x:s.x,y:s.y,tapCount:this.state.currentTapCount,activeGestures:a,customData:this.customData},c=new CustomEvent(this.name,{bubbles:!0,cancelable:!0,composed:!0,detail:o});n.dispatchEvent(c),this.preventDefault&&i.preventDefault(),this.stopPropagation&&i.stopPropagation()}cancelTap(n,r,i){if(this.state.startCentroid||this.state.lastPosition){const s=this.state.lastPosition||this.state.startCentroid,a=this.gesturesRegistry.getActiveGestures(n),o={gestureName:this.name,centroid:s,target:i.target,srcEvent:i,phase:"cancel",pointers:r,timeStamp:i.timeStamp,x:s.x,y:s.y,tapCount:this.state.currentTapCount,activeGestures:a,customData:this.customData},c=ot(this.name,"cancel"),u=new CustomEvent(c,{bubbles:!0,cancelable:!0,composed:!0,detail:o});n.dispatchEvent(u)}this.resetState()}}class dr extends zt{constructor(n){super(n);R(this,"state",{phase:"waitingForTap",dragTimeoutId:null});R(this,"tapHandler",()=>{this.state.phase==="waitingForTap"&&(this.state.phase="tapDetected",this.setTouchAction(),this.state.dragTimeoutId=setTimeout(()=>{this.resetState()},this.dragTimeout))});R(this,"dragStartHandler",n=>{this.state.phase==="tapDetected"&&(this.state.dragTimeoutId!==null&&(clearTimeout(this.state.dragTimeoutId),this.state.dragTimeoutId=null),this.restoreTouchAction(),this.state.phase="dragging",this.isActive=!0,this.element.dispatchEvent(new CustomEvent(ot(this.name,n.detail.phase),n)))});R(this,"dragMoveHandler",n=>{this.state.phase==="dragging"&&this.element.dispatchEvent(new CustomEvent(ot(this.name,n.detail.phase),n))});R(this,"dragEndHandler",n=>{this.state.phase==="dragging"&&(this.resetState(),this.element.dispatchEvent(new CustomEvent(ot(this.name,n.detail.phase),n)))});this.tapMaxDistance=n.tapMaxDistance??10,this.dragTimeout=n.dragTimeout??1e3,this.dragThreshold=n.dragThreshold??0,this.dragDirection=n.dragDirection||["up","down","left","right"],this.tapGesture=new gn({name:`${this.name}-tap`,maxDistance:this.tapMaxDistance,maxPointers:this.maxPointers,pointerMode:this.pointerMode,requiredKeys:this.requiredKeys,preventIf:this.preventIf,pointerOptions:structuredClone(this.pointerOptions)}),this.panGesture=new Ft({name:`${this.name}-pan`,minPointers:this.minPointers,maxPointers:this.maxPointers,threshold:this.dragThreshold,direction:this.dragDirection,pointerMode:this.pointerMode,requiredKeys:this.requiredKeys,preventIf:this.preventIf,pointerOptions:structuredClone(this.pointerOptions)})}clone(n){return new dr(y({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,minPointers:this.minPointers,maxPointers:this.maxPointers,tapMaxDistance:this.tapMaxDistance,dragTimeout:this.dragTimeout,dragThreshold:this.dragThreshold,dragDirection:[...this.dragDirection],requiredKeys:[...this.requiredKeys],pointerMode:[...this.pointerMode],preventIf:[...this.preventIf],pointerOptions:structuredClone(this.pointerOptions)},n))}init(n,r,i,s){super.init(n,r,i,s),this.tapGesture.init(n,r,i,s),this.panGesture.init(n,r,i,s),this.element.addEventListener(this.tapGesture.name,this.tapHandler),this.element.addEventListener(`${this.panGesture.name}Start`,this.dragStartHandler),this.element.addEventListener(this.panGesture.name,this.dragMoveHandler),this.element.addEventListener(`${this.panGesture.name}End`,this.dragEndHandler),this.element.addEventListener(`${this.panGesture.name}Cancel`,this.dragEndHandler)}destroy(){this.resetState(),this.tapGesture.destroy(),this.panGesture.destroy(),this.element.removeEventListener(this.tapGesture.name,this.tapHandler),this.element.removeEventListener(`${this.panGesture.name}Start`,this.dragStartHandler),this.element.removeEventListener(this.panGesture.name,this.dragMoveHandler),this.element.removeEventListener(`${this.panGesture.name}End`,this.dragEndHandler),this.element.removeEventListener(`${this.panGesture.name}Cancel`,this.dragEndHandler),super.destroy()}updateOptions(n){super.updateOptions(n),this.tapMaxDistance=n.tapMaxDistance??this.tapMaxDistance,this.dragTimeout=n.dragTimeout??this.dragTimeout,this.dragThreshold=n.dragThreshold??this.dragThreshold,this.dragDirection=n.dragDirection||this.dragDirection,this.element.dispatchEvent(new CustomEvent(`${this.panGesture.name}ChangeOptions`,{detail:{minPointers:this.minPointers,maxPointers:this.maxPointers,threshold:this.dragThreshold,direction:this.dragDirection,pointerMode:this.pointerMode,requiredKeys:this.requiredKeys,preventIf:this.preventIf,pointerOptions:structuredClone(this.pointerOptions)}})),this.element.dispatchEvent(new CustomEvent(`${this.tapGesture.name}ChangeOptions`,{detail:{maxDistance:this.tapMaxDistance,maxPointers:this.maxPointers,pointerMode:this.pointerMode,requiredKeys:this.requiredKeys,preventIf:this.preventIf,pointerOptions:structuredClone(this.pointerOptions)}}))}resetState(){this.state.dragTimeoutId!==null&&clearTimeout(this.state.dragTimeoutId),this.restoreTouchAction(),this.isActive=!1,this.state={phase:"waitingForTap",dragTimeoutId:null}}handlePointerEvent(){}setTouchAction(){this.element.addEventListener("touchstart",It,{passive:!1})}restoreTouchAction(){this.element.removeEventListener("touchstart",It)}}class fr extends cs{constructor(n){super(n);R(this,"state",{totalDeltaX:0,totalDeltaY:0,totalDeltaZ:0});R(this,"handleWheelEvent",n=>{if(this.shouldPreventGesture(this.element,"mouse"))return;const r=this.pointerManager.getPointers()||new Map,i=Array.from(r.values());this.state.totalDeltaX+=n.deltaX*this.sensitivity*(this.invert?-1:1),this.state.totalDeltaY+=n.deltaY*this.sensitivity*(this.invert?-1:1),this.state.totalDeltaZ+=n.deltaZ*this.sensitivity*(this.invert?-1:1),["totalDeltaX","totalDeltaY","totalDeltaZ"].forEach(s=>{this.state[s]<this.min&&(this.state[s]=this.min),this.state[s]>this.max&&(this.state[s]=this.max)}),this.emitWheelEvent(i,n)});this.sensitivity=n.sensitivity??1,this.max=n.max??Number.MAX_SAFE_INTEGER,this.min=n.min??Number.MIN_SAFE_INTEGER,this.initialDelta=n.initialDelta??0,this.invert=n.invert??!1,this.state.totalDeltaX=this.initialDelta,this.state.totalDeltaY=this.initialDelta,this.state.totalDeltaZ=this.initialDelta}clone(n){return new fr(y({name:this.name,preventDefault:this.preventDefault,stopPropagation:this.stopPropagation,sensitivity:this.sensitivity,max:this.max,min:this.min,initialDelta:this.initialDelta,invert:this.invert,requiredKeys:[...this.requiredKeys],preventIf:[...this.preventIf]},n))}init(n,r,i,s){super.init(n,r,i,s),this.element.addEventListener("wheel",this.handleWheelEvent)}destroy(){this.element.removeEventListener("wheel",this.handleWheelEvent),this.resetState(),super.destroy()}resetState(){this.isActive=!1,this.state={totalDeltaX:0,totalDeltaY:0,totalDeltaZ:0}}updateOptions(n){super.updateOptions(n),this.sensitivity=n.sensitivity??this.sensitivity,this.max=n.max??this.max,this.min=n.min??this.min,this.initialDelta=n.initialDelta??this.initialDelta,this.invert=n.invert??this.invert}emitWheelEvent(n,r){const i=n.length>0?xt(n):{x:r.clientX,y:r.clientY},s=this.gesturesRegistry.getActiveGestures(this.element),a={gestureName:this.name,centroid:i,target:r.target,srcEvent:r,phase:"ongoing",pointers:n,timeStamp:r.timeStamp,deltaX:r.deltaX*this.sensitivity*(this.invert?-1:1),deltaY:r.deltaY*this.sensitivity*(this.invert?-1:1),deltaZ:r.deltaZ*this.sensitivity*(this.invert?-1:1),deltaMode:r.deltaMode,totalDeltaX:this.state.totalDeltaX,totalDeltaY:this.state.totalDeltaY,totalDeltaZ:this.state.totalDeltaZ,activeGestures:s,customData:this.customData};this.preventDefault&&r.preventDefault(),this.stopPropagation&&r.stopPropagation();const o=ot(this.name,"ongoing"),c=new CustomEvent(o,{bubbles:!0,cancelable:!0,composed:!0,detail:a});this.element.dispatchEvent(c)}}const Wt=t=>t.preventDefault(),mr=({svgRef:t})=>{const e=A.useRef(null);A.useEffect(()=>{const i=t.current;e.current||(e.current=new cu({gestures:[new Ft({name:"pan",threshold:0,maxPointers:1}),new cr({name:"move",preventIf:["pan","zoomPinch","zoomPan"]}),new gn({name:"tap",preventIf:["pan","zoomPinch","zoomPan"]}),new pn({name:"quickPress",duration:50}),new Ft({name:"brush",threshold:0,maxPointers:1}),new Ft({name:"zoomPan",threshold:0,maxPointers:1,preventIf:["zoomTapAndDrag","zoomPressAndDrag"]}),new lr({name:"zoomPinch",threshold:5,preventIf:["pan","zoomPan"]}),new fr({name:"zoomTurnWheel",sensitivity:.01,initialDelta:1}),new dr({name:"zoomTapAndDrag",dragThreshold:10}),new hr({name:"zoomPressAndDrag",dragThreshold:10,preventIf:["zoomPinch"]})]}));const s=e.current;if(!(!i||!s))return s.registerElement(["pan","move","zoomPinch","zoomPan","zoomTurnWheel","tap","quickPress","zoomTapAndDrag","zoomPressAndDrag","brush"],i),()=>{s.unregisterAllGestures(i)}},[t,e]);const n=A.useCallback((i,s,a)=>{const o=t.current;return o==null||o.addEventListener(i,s,a),{cleanup:()=>o==null?void 0:o.removeEventListener(i,s)}},[t]),r=A.useCallback((i,s)=>{const a=t.current,o=e.current;!o||!a||o.setGestureOptions(i,a,s??{})},[t,e]);return A.useEffect(()=>{const i=t.current;return i==null||i.addEventListener("gesturestart",Wt),i==null||i.addEventListener("gesturechange",Wt),i==null||i.addEventListener("gestureend",Wt),()=>{i==null||i.removeEventListener("gesturestart",Wt),i==null||i.removeEventListener("gesturechange",Wt),i==null||i.removeEventListener("gestureend",Wt)}},[t]),{instance:{addInteractionListener:n,updateZoomInteractionListeners:r}}};mr.params={};mr.getInitialState=()=>({});const pu=[ur,ar,dn,mn,mr,ln],gu=["apiRef"],yu=t=>{let{plugins:e}=t,n=mt(t.props,gu);const r={};e.forEach(a=>{Object.assign(r,a.params)});const i={};return Object.keys(n).forEach(a=>{const o=n[a];r[a]&&(i[a]=o)}),e.reduce((a,o)=>o.getDefaultizedParams?o.getDefaultizedParams({params:a}):a,i)};let Qr=0;function vu(t,e,n){const r=Fo(),i=A.useMemo(()=>[...pu,...t],[t]),s=yu({plugins:i,props:e});s.id=s.id??r;const o=A.useRef({}).current,c=wu(e.apiRef),u=A.useRef(null),l=A.useRef(null),h=A.useRef(null);if(h.current==null){Qr+=1;const m={cacheKey:{id:Qr}};i.forEach(p=>{p.getInitialState&&Object.assign(m,p.getInitialState(s,m,n))}),h.current=new ea(m)}const d=m=>{const p=m({instance:o,params:s,plugins:i,store:h.current,svgRef:l,chartRootRef:u,seriesConfig:n});p.publicAPI&&Object.assign(c.current,p.publicAPI),p.instance&&Object.assign(o,p.instance)};return i.forEach(d),{contextValue:A.useMemo(()=>({store:h.current,publicAPI:c.current,instance:o,svgRef:l,chartRootRef:u}),[o,c])}}function xu(t){return t.current==null&&(t.current={}),t}function wu(t){const e=A.useRef({});return t?xu(t):e}const ls=A.createContext(null),hs=()=>{},ds=4,fs=20+2*ds,Mu=40+2*ds,bu="hover",_e={minStart:0,maxEnd:100,step:5,minSpan:10,maxSpan:100,panning:!0,filterMode:"keep",reverse:!1,slider:{enabled:!1,preview:!1,size:fs,showTooltip:bu}},pr=(t,e,n,r)=>{var i;if(t)return t===!0?y({axisId:e,axisDirection:n},_e,{reverse:r??!1}):y({axisId:e,axisDirection:n},_e,{reverse:r??!1},t,{slider:y({},_e.slider,{size:((i=t.slider)==null?void 0:i.preview)??_e.slider.preview?Mu:fs},t.slider)})};function ms(t,e){const n={top:0,bottom:0,none:0};return(t&&t.length>0?t:[{id:Bo,scaleType:"linear"}]).map((s,a)=>{var f;const o=s.dataKey,c=a===0?"bottom":"none",u=s.position??c,l=ta+(s.label?Bi:0),h=s.id??`defaultized-x-axis-${a}`,d=y({offset:n[u]},s,{id:h,position:u,height:s.height??l,zoom:pr(s.zoom,h,"x",s.reverse)});if(u!=="none"&&(n[u]+=d.height,(f=d.zoom)!=null&&f.slider.enabled&&(n[u]+=d.zoom.slider.size)),o===void 0||s.data!==void 0)return d;if(e===void 0)throw new Error("MUI X Charts: x-axis uses `dataKey` but no `dataset` is provided.");return y({},d,{data:e.map(m=>m[o])})})}function ps(t,e){const n={right:0,left:0,none:0};return(t&&t.length>0?t:[{id:Zo,scaleType:"linear"}]).map((s,a)=>{var f;const o=s.dataKey,c=a===0?"left":"none",u=s.position??c,l=Jo+(s.label?Bi:0),h=s.id??`defaultized-y-axis-${a}`,d=y({offset:n[u]},s,{id:h,position:u,width:s.width??l,zoom:pr(s.zoom,h,"y",s.reverse)});if(u!=="none"&&(n[u]+=d.width,(f=d.zoom)!=null&&f.slider.enabled&&(n[u]+=d.zoom.slider.size)),o===void 0||s.data!==void 0)return d;if(e===void 0)throw new Error("MUI X Charts: y-axis uses `dataKey` but no `dataset` is provided.");return y({},d,{data:e.map(m=>m[o])})})}function Nt(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;if(Array.isArray(t)){const i=t.length;if(i!==e.length)return!1;for(let s=0;s<i;s+=1)if(!Nt(t[s],e[s]))return!1;return!0}if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;const i=Array.from(t.entries());for(let s=0;s<i.length;s+=1)if(!e.has(i[s][0]))return!1;for(let s=0;s<i.length;s+=1){const a=i[s];if(!Nt(a[1],e.get(a[0])))return!1}return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;const i=Array.from(t.entries());for(let s=0;s<i.length;s+=1)if(!e.has(i[s][0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){const i=t.length;if(i!==e.length)return!1;for(let s=0;s<i;s+=1)if(t[s]!==e[s])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const n=Object.keys(t),r=n.length;if(r!==Object.keys(e).length)return!1;for(let i=0;i<r;i+=1)if(!Object.prototype.hasOwnProperty.call(e,n[i]))return!1;for(let i=0;i<r;i+=1){const s=n[i];if(!Nt(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function Cu(t,e){return function(r,i){if(i.location==="tick"){const s=i.scale.domain();return s[0]===s[1]?i.scale.tickFormat(1)(r):i.scale.tickFormat(t)(r)}return i.location==="zoom-slider-tooltip"?e.tickFormat(2)(r):`${r}`}}function ue(t){return t.scaleType==="band"}function ce(t){return t.scaleType==="point"}function Eu(t){return t.scaleType==="symlog"}function Ye(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Tu(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function gr(t){let e,n,r;t.length!==2?(e=Ye,n=(o,c)=>Ye(t(o),c),r=(o,c)=>t(o)-c):(e=t===Ye||t===Tu?t:Su,n=t,r=t);function i(o,c,u=0,l=o.length){if(u<l){if(e(c,c)!==0)return l;do{const h=u+l>>>1;n(o[h],c)<0?u=h+1:l=h}while(u<l)}return u}function s(o,c,u=0,l=o.length){if(u<l){if(e(c,c)!==0)return l;do{const h=u+l>>>1;n(o[h],c)<=0?u=h+1:l=h}while(u<l)}return u}function a(o,c,u=0,l=o.length){const h=i(o,c,u,l-1);return h>u&&r(o[h-1],c)>-r(o[h],c)?h-1:h}return{left:i,center:a,right:s}}function Su(){return 0}function Au(t){return t===null?NaN:+t}const Iu=gr(Ye),gs=Iu.right;gr(Au).center;class Jr extends Map{constructor(e,n=ku){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(ti(this,e))}has(e){return super.has(ti(this,e))}set(e,n){return super.set(Du(this,e),n)}delete(e){return super.delete(Pu(this,e))}}function ti({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Du({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Pu({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function ku(t){return t!==null&&typeof t=="object"?t.valueOf():t}const Ru=Math.sqrt(50),$u=Math.sqrt(10),Ou=Math.sqrt(2);function qe(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=Ru?10:s>=$u?5:s>=Ou?2:1;let o,c,u;return i<0?(u=Math.pow(10,-i)/a,o=Math.round(t*u),c=Math.round(e*u),o/u<t&&++o,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*a,o=Math.round(t/u),c=Math.round(e/u),o*u<t&&++o,c*u>e&&--c),c<o&&.5<=n&&n<2?qe(t,e,n*2):[o,c,u]}function Kn(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?qe(e,t,n):qe(t,e,n);if(!(s>=i))return[];const o=s-i+1,c=new Array(o);if(r)if(a<0)for(let u=0;u<o;++u)c[u]=(s-u)/-a;else for(let u=0;u<o;++u)c[u]=(s-u)*a;else if(a<0)for(let u=0;u<o;++u)c[u]=(i+u)/-a;else for(let u=0;u<o;++u)c[u]=(i+u)*a;return c}function Vn(t,e,n){return e=+e,t=+t,n=+n,qe(t,e,n)[2]}function Bn(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Vn(e,t,n):Vn(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Gu(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Et(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function _u(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const ei=Symbol("implicit");function We(){var t=new Jr,e=[],n=[],r=ei;function i(s){let a=t.get(s);if(a===void 0){if(r!==ei)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new Jr;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return We(e,n).unknown(r)},Et.apply(i,arguments),i}function yr(){var t=We().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,o=!1,c=0,u=0,l=.5;delete t.unknown;function h(){var d=e().length,f=i<r,m=f?i:r,p=f?r:i;s=(p-m)/Math.max(1,d-c+u*2),o&&(s=Math.floor(s)),m+=(p-m-s*(d-c))*l,a=s*(1-c),o&&(m=Math.round(m),a=Math.round(a));var g=Gu(d).map(function(w){return m+s*w});return n(f?g.reverse():g)}return t.domain=function(d){return arguments.length?(e(d),h()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,o=!0,h()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(d){return arguments.length?(o=!!d,h()):o},t.padding=function(d){return arguments.length?(c=Math.min(1,u=+d),h()):c},t.paddingInner=function(d){return arguments.length?(c=Math.min(1,d),h()):c},t.paddingOuter=function(d){return arguments.length?(u=+d,h()):u},t.align=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),h()):l},t.copy=function(){return yr(e(),[r,i]).round(o).paddingInner(c).paddingOuter(u).align(l)},Et.apply(h(),arguments)}function ys(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ys(e())},t}function Lu(){return ys(yr.apply(null,arguments).paddingInner(1))}function vr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function vs(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function De(){}var Ce=.7,Ke=1/Ce,Qt="\\s*([+-]?\\d+)\\s*",Ee="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ft="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Fu=/^#([0-9a-f]{3,8})$/,Nu=new RegExp(`^rgb\\(${Qt},${Qt},${Qt}\\)$`),Uu=new RegExp(`^rgb\\(${ft},${ft},${ft}\\)$`),Hu=new RegExp(`^rgba\\(${Qt},${Qt},${Qt},${Ee}\\)$`),zu=new RegExp(`^rgba\\(${ft},${ft},${ft},${Ee}\\)$`),Yu=new RegExp(`^hsl\\(${Ee},${ft},${ft}\\)$`),ju=new RegExp(`^hsla\\(${Ee},${ft},${ft},${Ee}\\)$`),ni={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vr(De,Te,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ri,formatHex:ri,formatHex8:Xu,formatHsl:qu,formatRgb:ii,toString:ii});function ri(){return this.rgb().formatHex()}function Xu(){return this.rgb().formatHex8()}function qu(){return xs(this).formatHsl()}function ii(){return this.rgb().formatRgb()}function Te(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Fu.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?si(e):n===3?new et(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Le(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Le(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Nu.exec(t))?new et(e[1],e[2],e[3],1):(e=Uu.exec(t))?new et(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Hu.exec(t))?Le(e[1],e[2],e[3],e[4]):(e=zu.exec(t))?Le(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Yu.exec(t))?ui(e[1],e[2]/100,e[3]/100,1):(e=ju.exec(t))?ui(e[1],e[2]/100,e[3]/100,e[4]):ni.hasOwnProperty(t)?si(ni[t]):t==="transparent"?new et(NaN,NaN,NaN,0):null}function si(t){return new et(t>>16&255,t>>8&255,t&255,1)}function Le(t,e,n,r){return r<=0&&(t=e=n=NaN),new et(t,e,n,r)}function Wu(t){return t instanceof De||(t=Te(t)),t?(t=t.rgb(),new et(t.r,t.g,t.b,t.opacity)):new et}function Zn(t,e,n,r){return arguments.length===1?Wu(t):new et(t,e,n,r??1)}function et(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}vr(et,Zn,vs(De,{brighter(t){return t=t==null?Ke:Math.pow(Ke,t),new et(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ce:Math.pow(Ce,t),new et(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new et(Ut(this.r),Ut(this.g),Ut(this.b),Ve(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oi,formatHex:oi,formatHex8:Ku,formatRgb:ai,toString:ai}));function oi(){return`#${_t(this.r)}${_t(this.g)}${_t(this.b)}`}function Ku(){return`#${_t(this.r)}${_t(this.g)}${_t(this.b)}${_t((isNaN(this.opacity)?1:this.opacity)*255)}`}function ai(){const t=Ve(this.opacity);return`${t===1?"rgb(":"rgba("}${Ut(this.r)}, ${Ut(this.g)}, ${Ut(this.b)}${t===1?")":`, ${t})`}`}function Ve(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ut(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function _t(t){return t=Ut(t),(t<16?"0":"")+t.toString(16)}function ui(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ut(t,e,n,r)}function xs(t){if(t instanceof ut)return new ut(t.h,t.s,t.l,t.opacity);if(t instanceof De||(t=Te(t)),!t)return new ut;if(t instanceof ut)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,c=(s+i)/2;return o?(e===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-e)/o+2:a=(e-n)/o+4,o/=c<.5?s+i:2-s-i,a*=60):o=c>0&&c<1?0:a,new ut(a,o,c,t.opacity)}function Vu(t,e,n,r){return arguments.length===1?xs(t):new ut(t,e,n,r??1)}function ut(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}vr(ut,Vu,vs(De,{brighter(t){return t=t==null?Ke:Math.pow(Ke,t),new ut(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ce:Math.pow(Ce,t),new ut(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new et(Gn(t>=240?t-240:t+120,i,r),Gn(t,i,r),Gn(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ut(ci(this.h),Fe(this.s),Fe(this.l),Ve(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ve(this.opacity);return`${t===1?"hsl(":"hsla("}${ci(this.h)}, ${Fe(this.s)*100}%, ${Fe(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ci(t){return t=(t||0)%360,t<0?t+360:t}function Fe(t){return Math.max(0,Math.min(1,t||0))}function Gn(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const xr=t=>()=>t;function Bu(t,e){return function(n){return t+n*e}}function Zu(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Qu(t){return(t=+t)==1?ws:function(e,n){return n-e?Zu(e,n,t):xr(isNaN(e)?n:e)}}function ws(t,e){var n=e-t;return n?Bu(t,n):xr(isNaN(t)?e:t)}const li=function t(e){var n=Qu(e);function r(i,s){var a=n((i=Zn(i)).r,(s=Zn(s)).r),o=n(i.g,s.g),c=n(i.b,s.b),u=ws(i.opacity,s.opacity);return function(l){return i.r=a(l),i.g=o(l),i.b=c(l),i.opacity=u(l),i+""}}return r.gamma=t,r}(1);function Ju(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function tc(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ec(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=yn(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function wr(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ct(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function nc(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=yn(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Qn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_n=new RegExp(Qn.source,"g");function rc(t){return function(){return t}}function ic(t){return function(e){return t(e)+""}}function sc(t,e){var n=Qn.lastIndex=_n.lastIndex=0,r,i,s,a=-1,o=[],c=[];for(t=t+"",e=e+"";(r=Qn.exec(t))&&(i=_n.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,c.push({i:a,x:ct(r,i)})),n=_n.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?c[0]?ic(c[0].x):rc(e):(e=c.length,function(u){for(var l=0,h;l<e;++l)o[(h=c[l]).i]=h.x(u);return o.join("")})}function yn(t,e){var n=typeof e,r;return e==null||n==="boolean"?xr(e):(n==="number"?ct:n==="string"?(r=Te(e))?(e=r,li):sc:e instanceof Te?li:e instanceof Date?wr:tc(e)?Ju:Array.isArray(e)?ec:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?nc:ct)(t,e)}function Ms(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function oc(t){return function(){return t}}function ac(t){return+t}var hi=[0,1];function it(t){return t}function Jn(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:oc(isNaN(e)?NaN:.5)}function uc(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function cc(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=Jn(i,r),s=n(a,s)):(r=Jn(r,i),s=n(s,a)),function(o){return s(r(o))}}function lc(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Jn(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(o){var c=gs(t,o,1,r)-1;return s[c](i[c](o))}}function Pe(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function vn(){var t=hi,e=hi,n=yn,r,i,s,a=it,o,c,u;function l(){var d=Math.min(t.length,e.length);return a!==it&&(a=uc(t[0],t[d-1])),o=d>2?lc:cc,c=u=null,h}function h(d){return d==null||isNaN(d=+d)?s:(c||(c=o(t.map(r),e,n)))(r(a(d)))}return h.invert=function(d){return a(i((u||(u=o(e,t.map(r),ct)))(d)))},h.domain=function(d){return arguments.length?(t=Array.from(d,ac),l()):t.slice()},h.range=function(d){return arguments.length?(e=Array.from(d),l()):e.slice()},h.rangeRound=function(d){return e=Array.from(d),n=Ms,l()},h.clamp=function(d){return arguments.length?(a=d?!0:it,l()):a!==it},h.interpolate=function(d){return arguments.length?(n=d,l()):n},h.unknown=function(d){return arguments.length?(s=d,h):s},function(d,f){return r=d,i=f,l()}}function bs(){return vn()(it,it)}function hc(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Be(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function te(t){return t=Be(Math.abs(t)),t?t[1]:NaN}function dc(t,e){return function(n,r){for(var i=n.length,s=[],a=0,o=t[0],c=0;i>0&&o>0&&(c+o+1>r&&(o=Math.max(1,r-c)),s.push(n.substring(i-=o,i+o)),!((c+=o+1)>r));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function fc(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var mc=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Se(t){if(!(e=mc.exec(t)))throw new Error("invalid format: "+t);var e;return new Mr({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Se.prototype=Mr.prototype;function Mr(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Mr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function pc(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Cs;function gc(t,e){var n=Be(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(Cs=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Be(t,Math.max(0,e+s-1))[0]}function di(t,e){var n=Be(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const fi={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:hc,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>di(t*100,e),r:di,s:gc,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function mi(t){return t}var pi=Array.prototype.map,gi=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function yc(t){var e=t.grouping===void 0||t.thousands===void 0?mi:dc(pi.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?mi:fc(pi.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(h){h=Se(h);var d=h.fill,f=h.align,m=h.sign,p=h.symbol,g=h.zero,w=h.width,T=h.comma,M=h.precision,b=h.trim,C=h.type;C==="n"?(T=!0,C="g"):fi[C]||(M===void 0&&(M=12),b=!0,C="g"),(g||d==="0"&&f==="=")&&(g=!0,d="0",f="=");var v=p==="$"?n:p==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",$=p==="$"?r:/[%p]/.test(C)?a:"",P=fi[C],L=/[defgprs%]/.test(C);M=M===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function F(D){var O=v,S=$,k,z,W;if(C==="c")S=P(D)+S,D="";else{D=+D;var V=D<0||1/D<0;if(D=isNaN(D)?c:P(Math.abs(D),M),b&&(D=pc(D)),V&&+D==0&&m!=="+"&&(V=!1),O=(V?m==="("?m:o:m==="-"||m==="("?"":m)+O,S=(C==="s"?gi[8+Cs/3]:"")+S+(V&&m==="("?")":""),L){for(k=-1,z=D.length;++k<z;)if(W=D.charCodeAt(k),48>W||W>57){S=(W===46?i+D.slice(k+1):D.slice(k))+S,D=D.slice(0,k);break}}}T&&!g&&(D=e(D,1/0));var K=O.length+D.length+S.length,X=K<w?new Array(w-K+1).join(d):"";switch(T&&g&&(D=e(X+D,X.length?w-S.length:1/0),X=""),f){case"<":D=O+D+S+X;break;case"=":D=O+X+D+S;break;case"^":D=X.slice(0,K=X.length>>1)+O+D+S+X.slice(K);break;default:D=X+O+D+S;break}return s(D)}return F.toString=function(){return h+""},F}function l(h,d){var f=u((h=Se(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(te(d)/3)))*3,p=Math.pow(10,-m),g=gi[8+m/3];return function(w){return f(p*w)+g}}return{format:u,formatPrefix:l}}var Ne,br,Es;vc({thousands:",",grouping:[3],currency:["$",""]});function vc(t){return Ne=yc(t),br=Ne.format,Es=Ne.formatPrefix,Ne}function xc(t){return Math.max(0,-te(Math.abs(t)))}function wc(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(te(e)/3)))*3-te(Math.abs(t)))}function Mc(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,te(e)-te(t))+1}function bc(t,e,n,r){var i=Bn(t,e,n),s;switch(r=Se(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=wc(i,a))&&(r.precision=s),Es(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Mc(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=xc(i))&&(r.precision=s-(r.type==="%")*2);break}}return br(r)}function xn(t){var e=t.domain;return t.ticks=function(n){var r=e();return Kn(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return bc(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],o=r[s],c,u,l=10;for(o<a&&(u=a,a=o,o=u,u=i,i=s,s=u);l-- >0;){if(u=Vn(a,o,n),u===c)return r[i]=a,r[s]=o,e(r);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;c=u}return t},t}function Cr(){var t=bs();return t.copy=function(){return Pe(t,Cr())},Et.apply(t,arguments),xn(t)}function Ts(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function yi(t){return Math.log(t)}function vi(t){return Math.exp(t)}function Cc(t){return-Math.log(-t)}function Ec(t){return-Math.exp(-t)}function Tc(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Sc(t){return t===10?Tc:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Ac(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function xi(t){return(e,n)=>-t(-e,n)}function Ic(t){const e=t(yi,vi),n=e.domain;let r=10,i,s;function a(){return i=Ac(r),s=Sc(r),n()[0]<0?(i=xi(i),s=xi(s),t(Cc,Ec)):t(yi,vi),e}return e.base=function(o){return arguments.length?(r=+o,a()):r},e.domain=function(o){return arguments.length?(n(o),a()):n()},e.ticks=o=>{const c=n();let u=c[0],l=c[c.length-1];const h=l<u;h&&([u,l]=[l,u]);let d=i(u),f=i(l),m,p;const g=o==null?10:+o;let w=[];if(!(r%1)&&f-d<g){if(d=Math.floor(d),f=Math.ceil(f),u>0){for(;d<=f;++d)for(m=1;m<r;++m)if(p=d<0?m/s(-d):m*s(d),!(p<u)){if(p>l)break;w.push(p)}}else for(;d<=f;++d)for(m=r-1;m>=1;--m)if(p=d>0?m/s(-d):m*s(d),!(p<u)){if(p>l)break;w.push(p)}w.length*2<g&&(w=Kn(u,l,g))}else w=Kn(d,f,Math.min(f-d,g)).map(s);return h?w.reverse():w},e.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Se(c)).precision==null&&(c.trim=!0),c=br(c)),o===1/0)return c;const u=Math.max(1,r*o/e.ticks().length);return l=>{let h=l/s(Math.round(i(l)));return h*r<r-.5&&(h*=r),h<=u?c(l):""}},e.nice=()=>n(Ts(n(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function Ze(){const t=Ic(vn()).domain([1,10]);return t.copy=()=>Pe(t,Ze()).base(t.base()),Et.apply(t,arguments),t}function wi(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Mi(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Dc(t){var e=1,n=t(wi(e),Mi(e));return n.constant=function(r){return arguments.length?t(wi(e=+r),Mi(e)):e},xn(n)}function Ss(){var t=Dc(vn());return t.copy=function(){return Pe(t,Ss()).constant(t.constant())},Et.apply(t,arguments)}function bi(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Pc(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function kc(t){return t<0?-t*t:t*t}function Rc(t){var e=t(it,it),n=1;function r(){return n===1?t(it,it):n===.5?t(Pc,kc):t(bi(n),bi(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},xn(e)}function Er(){var t=Rc(vn());return t.copy=function(){return Pe(t,Er()).exponent(t.exponent())},Et.apply(t,arguments),t}function $c(){return Er.apply(null,arguments).exponent(.5)}function As(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[gs(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return As().domain(t).range(e).unknown(n)},Et.apply(i,arguments)}const Ln=new Date,Fn=new Date;function j(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const c=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return c;let u;do c.push(u=new Date(+s)),e(s,o),t(s);while(u<s&&s<a);return c},i.filter=s=>j(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(Ln.setTime(+s),Fn.setTime(+a),t(Ln),t(Fn),Math.floor(n(Ln,Fn))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const Qe=j(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Qe.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?j(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Qe);Qe.range;const yt=1e3,st=yt*60,vt=st*60,wt=vt*24,Tr=wt*7,Ci=wt*30,Nn=wt*365,Lt=j(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*yt)},(t,e)=>(e-t)/yt,t=>t.getUTCSeconds());Lt.range;const Sr=j(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yt)},(t,e)=>{t.setTime(+t+e*st)},(t,e)=>(e-t)/st,t=>t.getMinutes());Sr.range;const Ar=j(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*st)},(t,e)=>(e-t)/st,t=>t.getUTCMinutes());Ar.range;const Ir=j(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yt-t.getMinutes()*st)},(t,e)=>{t.setTime(+t+e*vt)},(t,e)=>(e-t)/vt,t=>t.getHours());Ir.range;const Dr=j(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*vt)},(t,e)=>(e-t)/vt,t=>t.getUTCHours());Dr.range;const ke=j(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*st)/wt,t=>t.getDate()-1);ke.range;const wn=j(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/wt,t=>t.getUTCDate()-1);wn.range;const Is=j(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/wt,t=>Math.floor(t/wt));Is.range;function Yt(t){return j(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*st)/Tr)}const Mn=Yt(0),Je=Yt(1),Oc=Yt(2),Gc=Yt(3),ee=Yt(4),_c=Yt(5),Lc=Yt(6);Mn.range;Je.range;Oc.range;Gc.range;ee.range;_c.range;Lc.range;function jt(t){return j(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Tr)}const bn=jt(0),tn=jt(1),Fc=jt(2),Nc=jt(3),ne=jt(4),Uc=jt(5),Hc=jt(6);bn.range;tn.range;Fc.range;Nc.range;ne.range;Uc.range;Hc.range;const Pr=j(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Pr.range;const kr=j(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());kr.range;const Mt=j(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Mt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:j(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Mt.range;const bt=j(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());bt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:j(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});bt.range;function Ds(t,e,n,r,i,s){const a=[[Lt,1,yt],[Lt,5,5*yt],[Lt,15,15*yt],[Lt,30,30*yt],[s,1,st],[s,5,5*st],[s,15,15*st],[s,30,30*st],[i,1,vt],[i,3,3*vt],[i,6,6*vt],[i,12,12*vt],[r,1,wt],[r,2,2*wt],[n,1,Tr],[e,1,Ci],[e,3,3*Ci],[t,1,Nn]];function o(u,l,h){const d=l<u;d&&([u,l]=[l,u]);const f=h&&typeof h.range=="function"?h:c(u,l,h),m=f?f.range(u,+l+1):[];return d?m.reverse():m}function c(u,l,h){const d=Math.abs(l-u)/h,f=gr(([,,g])=>g).right(a,d);if(f===a.length)return t.every(Bn(u/Nn,l/Nn,h));if(f===0)return Qe.every(Math.max(Bn(u,l,h),1));const[m,p]=a[d/a[f-1][2]<a[f][2]/d?f-1:f];return m.every(p)}return[o,c]}const[zc,Yc]=Ds(bt,kr,bn,Is,Dr,Ar),[jc,Xc]=Ds(Mt,Pr,Mn,ke,Ir,Sr);function Un(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Hn(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function pe(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function qc(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,c=t.shortMonths,u=ge(i),l=ye(i),h=ge(s),d=ye(s),f=ge(a),m=ye(a),p=ge(o),g=ye(o),w=ge(c),T=ye(c),M={a:V,A:K,b:X,B:St,c:null,d:Di,e:Di,f:pl,g:Tl,G:Al,H:dl,I:fl,j:ml,L:Ps,m:gl,M:yl,p:gt,q:qt,Q:Ri,s:$i,S:vl,u:xl,U:wl,V:Ml,w:bl,W:Cl,x:null,X:null,y:El,Y:Sl,Z:Il,"%":ki},b={a:le,A:he,b:at,B:de,c:null,d:Pi,e:Pi,f:Rl,g:zl,G:jl,H:Dl,I:Pl,j:kl,L:Rs,m:$l,M:Ol,p:fe,q:me,Q:Ri,s:$i,S:Gl,u:_l,U:Ll,V:Fl,w:Nl,W:Ul,x:null,X:null,y:Hl,Y:Yl,Z:Xl,"%":ki},C={a:F,A:D,b:O,B:S,c:k,d:Ai,e:Ai,f:ul,g:Si,G:Ti,H:Ii,I:Ii,j:il,L:al,m:rl,M:sl,p:L,q:nl,Q:ll,s:hl,S:ol,u:Zc,U:Qc,V:Jc,w:Bc,W:tl,x:z,X:W,y:Si,Y:Ti,Z:el,"%":cl};M.x=v(n,M),M.X=v(r,M),M.c=v(e,M),b.x=v(n,b),b.X=v(r,b),b.c=v(e,b);function v(E,_){return function(N){var x=[],Q=-1,H=0,nt=E.length,rt,$t,Xr;for(N instanceof Date||(N=new Date(+N));++Q<nt;)E.charCodeAt(Q)===37&&(x.push(E.slice(H,Q)),($t=Ei[rt=E.charAt(++Q)])!=null?rt=E.charAt(++Q):$t=rt==="e"?" ":"0",(Xr=_[rt])&&(rt=Xr(N,$t)),x.push(rt),H=Q+1);return x.push(E.slice(H,Q)),x.join("")}}function $(E,_){return function(N){var x=pe(1900,void 0,1),Q=P(x,E,N+="",0),H,nt;if(Q!=N.length)return null;if("Q"in x)return new Date(x.Q);if("s"in x)return new Date(x.s*1e3+("L"in x?x.L:0));if(_&&!("Z"in x)&&(x.Z=0),"p"in x&&(x.H=x.H%12+x.p*12),x.m===void 0&&(x.m="q"in x?x.q:0),"V"in x){if(x.V<1||x.V>53)return null;"w"in x||(x.w=1),"Z"in x?(H=Hn(pe(x.y,0,1)),nt=H.getUTCDay(),H=nt>4||nt===0?tn.ceil(H):tn(H),H=wn.offset(H,(x.V-1)*7),x.y=H.getUTCFullYear(),x.m=H.getUTCMonth(),x.d=H.getUTCDate()+(x.w+6)%7):(H=Un(pe(x.y,0,1)),nt=H.getDay(),H=nt>4||nt===0?Je.ceil(H):Je(H),H=ke.offset(H,(x.V-1)*7),x.y=H.getFullYear(),x.m=H.getMonth(),x.d=H.getDate()+(x.w+6)%7)}else("W"in x||"U"in x)&&("w"in x||(x.w="u"in x?x.u%7:"W"in x?1:0),nt="Z"in x?Hn(pe(x.y,0,1)).getUTCDay():Un(pe(x.y,0,1)).getDay(),x.m=0,x.d="W"in x?(x.w+6)%7+x.W*7-(nt+5)%7:x.w+x.U*7-(nt+6)%7);return"Z"in x?(x.H+=x.Z/100|0,x.M+=x.Z%100,Hn(x)):Un(x)}}function P(E,_,N,x){for(var Q=0,H=_.length,nt=N.length,rt,$t;Q<H;){if(x>=nt)return-1;if(rt=_.charCodeAt(Q++),rt===37){if(rt=_.charAt(Q++),$t=C[rt in Ei?_.charAt(Q++):rt],!$t||(x=$t(E,N,x))<0)return-1}else if(rt!=N.charCodeAt(x++))return-1}return x}function L(E,_,N){var x=u.exec(_.slice(N));return x?(E.p=l.get(x[0].toLowerCase()),N+x[0].length):-1}function F(E,_,N){var x=f.exec(_.slice(N));return x?(E.w=m.get(x[0].toLowerCase()),N+x[0].length):-1}function D(E,_,N){var x=h.exec(_.slice(N));return x?(E.w=d.get(x[0].toLowerCase()),N+x[0].length):-1}function O(E,_,N){var x=w.exec(_.slice(N));return x?(E.m=T.get(x[0].toLowerCase()),N+x[0].length):-1}function S(E,_,N){var x=p.exec(_.slice(N));return x?(E.m=g.get(x[0].toLowerCase()),N+x[0].length):-1}function k(E,_,N){return P(E,e,_,N)}function z(E,_,N){return P(E,n,_,N)}function W(E,_,N){return P(E,r,_,N)}function V(E){return a[E.getDay()]}function K(E){return s[E.getDay()]}function X(E){return c[E.getMonth()]}function St(E){return o[E.getMonth()]}function gt(E){return i[+(E.getHours()>=12)]}function qt(E){return 1+~~(E.getMonth()/3)}function le(E){return a[E.getUTCDay()]}function he(E){return s[E.getUTCDay()]}function at(E){return c[E.getUTCMonth()]}function de(E){return o[E.getUTCMonth()]}function fe(E){return i[+(E.getUTCHours()>=12)]}function me(E){return 1+~~(E.getUTCMonth()/3)}return{format:function(E){var _=v(E+="",M);return _.toString=function(){return E},_},parse:function(E){var _=$(E+="",!1);return _.toString=function(){return E},_},utcFormat:function(E){var _=v(E+="",b);return _.toString=function(){return E},_},utcParse:function(E){var _=$(E+="",!0);return _.toString=function(){return E},_}}}var Ei={"-":"",_:" ",0:"0"},q=/^\s*\d+/,Wc=/^%/,Kc=/[\\^$*+?|[\]().{}]/g;function U(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function Vc(t){return t.replace(Kc,"\\$&")}function ge(t){return new RegExp("^(?:"+t.map(Vc).join("|")+")","i")}function ye(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Bc(t,e,n){var r=q.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Zc(t,e,n){var r=q.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Qc(t,e,n){var r=q.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Jc(t,e,n){var r=q.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function tl(t,e,n){var r=q.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Ti(t,e,n){var r=q.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Si(t,e,n){var r=q.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function el(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function nl(t,e,n){var r=q.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function rl(t,e,n){var r=q.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Ai(t,e,n){var r=q.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function il(t,e,n){var r=q.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Ii(t,e,n){var r=q.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function sl(t,e,n){var r=q.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ol(t,e,n){var r=q.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function al(t,e,n){var r=q.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ul(t,e,n){var r=q.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function cl(t,e,n){var r=Wc.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ll(t,e,n){var r=q.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function hl(t,e,n){var r=q.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Di(t,e){return U(t.getDate(),e,2)}function dl(t,e){return U(t.getHours(),e,2)}function fl(t,e){return U(t.getHours()%12||12,e,2)}function ml(t,e){return U(1+ke.count(Mt(t),t),e,3)}function Ps(t,e){return U(t.getMilliseconds(),e,3)}function pl(t,e){return Ps(t,e)+"000"}function gl(t,e){return U(t.getMonth()+1,e,2)}function yl(t,e){return U(t.getMinutes(),e,2)}function vl(t,e){return U(t.getSeconds(),e,2)}function xl(t){var e=t.getDay();return e===0?7:e}function wl(t,e){return U(Mn.count(Mt(t)-1,t),e,2)}function ks(t){var e=t.getDay();return e>=4||e===0?ee(t):ee.ceil(t)}function Ml(t,e){return t=ks(t),U(ee.count(Mt(t),t)+(Mt(t).getDay()===4),e,2)}function bl(t){return t.getDay()}function Cl(t,e){return U(Je.count(Mt(t)-1,t),e,2)}function El(t,e){return U(t.getFullYear()%100,e,2)}function Tl(t,e){return t=ks(t),U(t.getFullYear()%100,e,2)}function Sl(t,e){return U(t.getFullYear()%1e4,e,4)}function Al(t,e){var n=t.getDay();return t=n>=4||n===0?ee(t):ee.ceil(t),U(t.getFullYear()%1e4,e,4)}function Il(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+U(e/60|0,"0",2)+U(e%60,"0",2)}function Pi(t,e){return U(t.getUTCDate(),e,2)}function Dl(t,e){return U(t.getUTCHours(),e,2)}function Pl(t,e){return U(t.getUTCHours()%12||12,e,2)}function kl(t,e){return U(1+wn.count(bt(t),t),e,3)}function Rs(t,e){return U(t.getUTCMilliseconds(),e,3)}function Rl(t,e){return Rs(t,e)+"000"}function $l(t,e){return U(t.getUTCMonth()+1,e,2)}function Ol(t,e){return U(t.getUTCMinutes(),e,2)}function Gl(t,e){return U(t.getUTCSeconds(),e,2)}function _l(t){var e=t.getUTCDay();return e===0?7:e}function Ll(t,e){return U(bn.count(bt(t)-1,t),e,2)}function $s(t){var e=t.getUTCDay();return e>=4||e===0?ne(t):ne.ceil(t)}function Fl(t,e){return t=$s(t),U(ne.count(bt(t),t)+(bt(t).getUTCDay()===4),e,2)}function Nl(t){return t.getUTCDay()}function Ul(t,e){return U(tn.count(bt(t)-1,t),e,2)}function Hl(t,e){return U(t.getUTCFullYear()%100,e,2)}function zl(t,e){return t=$s(t),U(t.getUTCFullYear()%100,e,2)}function Yl(t,e){return U(t.getUTCFullYear()%1e4,e,4)}function jl(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ne(t):ne.ceil(t),U(t.getUTCFullYear()%1e4,e,4)}function Xl(){return"+0000"}function ki(){return"%"}function Ri(t){return+t}function $i(t){return Math.floor(+t/1e3)}var Kt,Os,Gs;ql({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ql(t){return Kt=qc(t),Os=Kt.format,Kt.parse,Gs=Kt.utcFormat,Kt.utcParse,Kt}function Wl(t){return new Date(t)}function Kl(t){return t instanceof Date?+t:+new Date(+t)}function Rr(t,e,n,r,i,s,a,o,c,u){var l=bs(),h=l.invert,d=l.domain,f=u(".%L"),m=u(":%S"),p=u("%I:%M"),g=u("%I %p"),w=u("%a %d"),T=u("%b %d"),M=u("%B"),b=u("%Y");function C(v){return(c(v)<v?f:o(v)<v?m:a(v)<v?p:s(v)<v?g:r(v)<v?i(v)<v?w:T:n(v)<v?M:b)(v)}return l.invert=function(v){return new Date(h(v))},l.domain=function(v){return arguments.length?d(Array.from(v,Kl)):d().map(Wl)},l.ticks=function(v){var $=d();return t($[0],$[$.length-1],v??10)},l.tickFormat=function(v,$){return $==null?C:u($)},l.nice=function(v){var $=d();return(!v||typeof v.range!="function")&&(v=e($[0],$[$.length-1],v??10)),v?d(Ts($,v)):l},l.copy=function(){return Pe(l,Rr(t,e,n,r,i,s,a,o,c,u))},l}function _s(){return Et.apply(Rr(jc,Xc,Mt,Pr,Mn,ke,Ir,Sr,Lt,Os).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Vl(){return Et.apply(Rr(zc,Yc,bt,kr,bn,wn,Dr,Ar,Lt,Gs).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Bl(){var t=0,e=1,n,r,i,s,a=it,o=!1,c;function u(h){return h==null||isNaN(h=+h)?c:a(i===0?.5:(h=(s(h)-n)*i,o?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(h){return arguments.length?(o=!!h,u):o},u.interpolator=function(h){return arguments.length?(a=h,u):a};function l(h){return function(d){var f,m;return arguments.length?([f,m]=d,a=h(f,m),u):[a(0),a(1)]}}return u.range=l(yn),u.rangeRound=l(Ms),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return s=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),u}}function Zl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Ls(){var t=xn(Bl()(it));return t.copy=function(){return Zl(t,Ls())},_u.apply(t,arguments)}function Fs(t){return t.type==="piecewise"?As(t.thresholds,t.colors):Ls([t.min??0,t.max??100],t.color)}function en(t){return t.values?We(t.values,t.colors).unknown(t.unknownColor??null):We(t.colors.map((e,n)=>n),t.colors).unknown(t.unknownColor??null)}function tr(t){return t.type==="ordinal"?en(t):Fs(t)}function Ql(t,e,n){const{tickMaxStep:r,tickMinStep:i,tickNumber:s}=t,a=i===void 0?999:Math.floor(Math.abs(e[1]-e[0])/i),o=r===void 0?2:Math.ceil(Math.abs(e[1]-e[0])/r);return Math.min(a,Math.max(o,s??n))}function Jl(t,e){return e[1]-e[0]===0?1:t/((e[1]-e[0])/100)}function Ns(t){return Math.floor(Math.abs(t)/50)}function Us(t,e){const n=Ss(t,e),r=n.ticks,{negativeScale:i,linearScale:s,positiveScale:a}=th(n);return n.ticks=o=>{const c=r(o),u=n.constant();let l=0,h=0,d=0;c.forEach(m=>{m>-u&&m<u&&(h+=1),m<=-u&&(l+=1),m>=u&&(d+=1)});const f=[];if(l>0&&f.push(...i.ticks(l)),h>0){const m=s.ticks(h);f.at(-1)===m[0]?f.push(...m.slice(1)):f.push(...m)}if(d>0){const m=a.ticks(d);f.at(-1)===m[0]?f.push(...m.slice(1)):f.push(...m)}return f},n.tickFormat=(o=10,c)=>{const u=n.constant(),[l,h]=n.domain(),d=h-l,f=i.domain(),m=f[1]-f[0],g=(d===0?0:m/d)*o,w=s.domain(),T=w[1]-w[0],b=(d===0?0:T/d)*o,C=a.domain(),v=C[1]-C[0],P=(d===0?0:v/d)*o,L=i.tickFormat(g,c),F=s.tickFormat(b,c),D=a.tickFormat(P,c);return O=>(O.valueOf()<=-u?L:O.valueOf()>=u?D:F)(O)},n.copy=()=>Us(n.domain(),n.range()).constant(n.constant()),n}function th(t){const e=t.constant(),n=t.domain(),r=[n[0],Math.min(n[1],-e)],i=Ze(r,t.range()),s=[Math.max(n[0],-e),Math.min(n[1],e)],a=Cr(s,t.range()),o=[Math.max(n[0],e),n[1]],c=Ze(o,t.range());return{negativeScale:i,linearScale:a,positiveScale:c}}function $r(t,e,n){switch(t){case"log":return Ze(e,n);case"pow":return Er(e,n);case"sqrt":return $c(e,n);case"time":return _s(e,n);case"utc":return Vl(e,n);case"symlog":return Us(e,n);default:return Cr(e,n)}}const eh=t=>(t==null?void 0:t[0])instanceof Date;function nh(t,e,n){const r=_s(t,e);return(i,{location:s})=>s==="tick"?r.tickFormat(n)(i):`${i.toLocaleString()}`}let Oi,Gi;class rh{constructor(){R(this,"types",new Set);if(Oi)throw new Error("You can only create one instance!");Oi=this.types}addType(e){this.types.add(e)}getTypes(){return this.types}}class ih{constructor(){R(this,"types",new Set);if(Gi)throw new Error("You can only create one instance!");Gi=this.types}addType(e){this.types.add(e)}getTypes(){return this.types}}const Cn=new rh;Cn.addType("bar");Cn.addType("line");Cn.addType("scatter");const sh=new ih;sh.addType("radar");function Hs(t){return Cn.getTypes().has(t)}const oh=(t,e,n,r)=>{const i=new Set;return Object.keys(e).filter(Hs).forEach(a=>{var u,l,h;const o=((u=n[a])==null?void 0:u.series)??{},c=(h=(l=e[a]).axisTooltipGetter)==null?void 0:h.call(l,o);c!==void 0&&c.forEach(({axisId:d,direction:f})=>{f===t&&i.add(d??r)})}),i};function Re(t){return t.bandwidth!==void 0}function ah(t){return Re(t)&&t.paddingOuter!==void 0}function uh(t,e,n){const r=e==="x"?[t.left,t.left+t.width]:[t.top+t.height,t.top];return n?[r[1],r[0]]:r}const ch=.2,lh=.1;function zs({scales:t,drawingArea:e,formattedSeries:n,axis:r,seriesConfig:i,axisDirection:s,zoomMap:a,domains:o}){if(r===void 0)return{axis:{},axisIds:[]};const c=oh(s,i,n,r[0].id),u={};return r.forEach(l=>{const h=l,d=t[h.id],f=a==null?void 0:a.get(h.id),m=f?[f.start,f.end]:[0,100],p=uh(e,s,h.reverse??!1),g=!h.ignoreTooltip&&c.has(h.id),w=h.data??[];if(Re(d)){const v=s==="y"?[p[1],p[0]]:p;if(ah(d)&&ue(h)){const $=h.categoryGapRatio??ch,P=h.barGapRatio??lh;u[h.id]=y({offset:0,height:0,categoryGapRatio:$,barGapRatio:P,triggerTooltip:g},h,{data:w,scale:d,tickNumber:h.data.length,colorScale:h.colorMap&&(h.colorMap.type==="ordinal"?en(y({values:h.data},h.colorMap)):tr(h.colorMap))})}if(ce(h)&&(u[h.id]=y({offset:0,height:0,triggerTooltip:g},h,{data:w,scale:d,tickNumber:h.data.length,colorScale:h.colorMap&&(h.colorMap.type==="ordinal"?en(y({values:h.data},h.colorMap)):tr(h.colorMap))})),eh(h.data)){const $=nh(h.data,v,h.tickNumber);u[h.id].valueFormatter=h.valueFormatter??$}return}if(h.scaleType==="band"||h.scaleType==="point")return;const T=o[h.id].tickNumber,M=h,b=M.scaleType??"linear",C=Jl(T,m);u[h.id]=y({offset:0,height:0,triggerTooltip:g},M,{data:w,scaleType:b,scale:d,tickNumber:C,colorScale:M.colorMap&&Fs(M.colorMap),valueFormatter:h.valueFormatter??Cu(C,$r(b,p.map(v=>d.invert(v)),p))})}),{axis:u,axisIds:r.map(({id:l})=>l)}}function hh(t){return t!=null}function dh(t,e,n,r){const i=(t==null?void 0:t.length)??0,s=Math.floor(e*i/100),a=Math.ceil(n*i/100);return function(c,u){return(c[r]??(t==null?void 0:t[u]))==null?!0:u>=s&&u<a}}function fh(t,e,n,r,i){const s=t[0].valueOf(),a=t[1].valueOf(),o=s+e*(a-s)/100,c=s+n*(a-s)/100;return function(l,h){const d=l[r]??(i==null?void 0:i[h]);return d==null?!0:d>=o&&d<=c}}const mh=t=>({currentAxisId:e,seriesXAxisId:n,seriesYAxisId:r,isDefaultAxis:i})=>(s,a)=>{var u,l;return!(e===n?r:n)||i?((l=(u=Object.values(t??{}))[0])==null?void 0:l.call(u,s,a))??!0:[r,n].filter(h=>h!==e).map(h=>t[h??""]).filter(hh).every(h=>h(s,a))},_i=t=>(e=[])=>e.reduce((n,r)=>{const{zoom:i,id:s,reverse:a}=r,o=pr(i,s,t,a);return o&&(n[s]=o),n},{}),ph=.2;function Ys(t,e,n){const r=e==="x"?[t.left,t.left+t.width]:[t.top+t.height,t.top];return n.reverse?[r[1],r[0]]:r}function js(t,e){const n=[0,1];if(ue(t)){const s=t.categoryGapRatio??ph;return yr(e,n).paddingInner(s).paddingOuter(s/2)}if(ce(t))return Lu(e,n);const r=t.scaleType??"linear",i=$r(r,e,n);return Eu(t)&&t.constant!=null&&i.constant(t.constant),i}const Xs=(t,e)=>{const n=t[1]-t[0],r=e[1]-e[0],i=t[0]-e[0]*n/r,s=t[1]+(100-e[1])*n/r;return[i,s]},gh=(t,e,n,r,i,s,a)=>{var u;const o=n==="x"?r[t].xExtremumGetter:r[t].yExtremumGetter,c=((u=s[t])==null?void 0:u.series)??{};return(o==null?void 0:o({series:c,axis:e,axisIndex:i,isDefaultAxis:i===0,getFilters:a}))??[1/0,-1/0]};function En(t,e,n,r,i,s){const a=Object.keys(n).filter(Hs);let o=[1/0,-1/0];for(const c of a){const[u,l]=gh(c,t,e,n,r,i,s);o=[Math.min(o[0],u),Math.max(o[1],l)]}return Number.isNaN(o[0])||Number.isNaN(o[1])?[1/0,-1/0]:o}const yh=(t,e,n,r)=>{var i;if(t.domainLimit!==void 0)return t.domainLimit;if(e==="x")for(const s of((i=r.line)==null?void 0:i.seriesOrder)??[]){const a=r.line.series[s];if(a.xAxisId===t.id||a.xAxisId===void 0&&n===0)return"strict"}return"nice"};function qs(t,e,n){return $r(t??"linear",e,[0,1]).nice(n).domain()}function Ws(t,e,n,r,[i,s],a,o){const c=Vs(t,e,n,r,o);let u=Bs(t,i,s);if(typeof c=="function"){const{min:h,max:d}=c(i.valueOf(),s.valueOf());u[0]=h,u[1]=d}const l=Ql(t,u,a);return c==="nice"&&(u=qs(t.scaleType,u,l)),u=["min"in t?t.min??u[0]:u[0],"max"in t?t.max??u[1]:u[1]],{domain:u,tickNumber:l}}function Ks(t,e,n,r,[i,s],a,o){const c=Vs(t,e,n,r,o);let u=Bs(t,i,s);if(typeof c=="function"){const{min:l,max:h}=c(i.valueOf(),s.valueOf());u[0]=l,u[1]=h}return c==="nice"&&(u=qs(t.scaleType,u,a)),[t.min??u[0],t.max??u[1]]}function Vs(t,e,n,r,i){return i?yh(t,e,n,r):t.domainLimit??"nice"}function Bs(t,e,n){let r=e,i=n;return"max"in t&&t.max!=null&&t.max<e&&(r=t.max),"min"in t&&t.min!=null&&t.min>e&&(i=t.min),!("min"in t)&&!("max"in t)?[r,i]:[t.min??r,t.max??i]}class vh{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(e,n){let r=this.length++;for(;r>0;){const i=r-1>>1,s=this.values[i];if(n>=s)break;this.ids[r]=this.ids[i],this.values[r]=s,r=i}this.ids[r]=e,this.values[r]=n}pop(){if(this.length===0)return;const e=this.ids,n=this.values,r=e[0],i=--this.length;if(i>0){const s=e[i],a=n[i];let o=0;const c=i>>1;for(;o<c;){const u=(o<<1)+1,l=u+1,h=u+(+(l<i)&+(n[l]<n[u]));if(n[h]>=a)break;e[o]=e[h],n[o]=n[h],o=h}e[o]=s,n[o]=a}return r}peek(){return this.length>0?this.ids[0]:void 0}peekValue(){return this.length>0?this.values[0]:void 0}shrink(){this.ids.length=this.values.length=this.length}}const Li=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],zn=3;class Or{static from(e,n=0){if(n%8!==0)throw new Error("byteOffset must be 8-byte aligned.");if(!e||e.byteLength===void 0||e.buffer)throw new Error("Data must be an instance of ArrayBuffer or SharedArrayBuffer.");const[r,i]=new Uint8Array(e,n+0,2);if(r!==251)throw new Error("Data does not appear to be in a Flatbush format.");const s=i>>4;if(s!==zn)throw new Error(`Got v${s} data when expected v${zn}.`);const a=Li[i&15];if(!a)throw new Error("Unrecognized array type.");const[o]=new Uint16Array(e,n+2,1),[c]=new Uint32Array(e,n+4,1);return new Or(c,o,a,void 0,e,n)}constructor(e,n=16,r=Float64Array,i=ArrayBuffer,s,a=0){if(e===void 0)throw new Error("Missing required argument: numItems.");if(isNaN(e)||e<=0)throw new Error(`Unexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.byteOffset=a;let o=e,c=o;this._levelBounds=[o*4];do o=Math.ceil(o/this.nodeSize),c+=o,this._levelBounds.push(c*4);while(o!==1);this.ArrayType=r,this.IndexArrayType=c<16384?Uint16Array:Uint32Array;const u=Li.indexOf(r),l=c*4*r.BYTES_PER_ELEMENT;if(u<0)throw new Error(`Unexpected typed array class: ${r}.`);if(s)this.data=s,this._boxes=new r(s,a+8,c*4),this._indices=new this.IndexArrayType(s,a+8+l,c),this._pos=c*4,this.minX=this._boxes[this._pos-4],this.minY=this._boxes[this._pos-3],this.maxX=this._boxes[this._pos-2],this.maxY=this._boxes[this._pos-1];else{const h=this.data=new i(8+l+c*this.IndexArrayType.BYTES_PER_ELEMENT);this._boxes=new r(h,8,c*4),this._indices=new this.IndexArrayType(h,8+l,c),this._pos=0,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,new Uint8Array(h,0,2).set([251,(zn<<4)+u]),new Uint16Array(h,2,1)[0]=n,new Uint32Array(h,4,1)[0]=e}this._queue=new vh}add(e,n,r=e,i=n){const s=this._pos>>2,a=this._boxes;return this._indices[s]=s,a[this._pos++]=e,a[this._pos++]=n,a[this._pos++]=r,a[this._pos++]=i,e<this.minX&&(this.minX=e),n<this.minY&&(this.minY=n),r>this.maxX&&(this.maxX=r),i>this.maxY&&(this.maxY=i),s}finish(){if(this._pos>>2!==this.numItems)throw new Error(`Added ${this._pos>>2} items when expected ${this.numItems}.`);const e=this._boxes;if(this.numItems<=this.nodeSize){e[this._pos++]=this.minX,e[this._pos++]=this.minY,e[this._pos++]=this.maxX,e[this._pos++]=this.maxY;return}const n=this.maxX-this.minX||1,r=this.maxY-this.minY||1,i=new Uint32Array(this.numItems),s=65535;for(let a=0,o=0;a<this.numItems;a++){const c=e[o++],u=e[o++],l=e[o++],h=e[o++],d=Math.floor(s*((c+l)/2-this.minX)/n),f=Math.floor(s*((u+h)/2-this.minY)/r);i[a]=Mh(d,f)}er(i,e,this._indices,0,this.numItems-1,this.nodeSize);for(let a=0,o=0;a<this._levelBounds.length-1;a++){const c=this._levelBounds[a];for(;o<c;){const u=o;let l=e[o++],h=e[o++],d=e[o++],f=e[o++];for(let m=1;m<this.nodeSize&&o<c;m++)l=Math.min(l,e[o++]),h=Math.min(h,e[o++]),d=Math.max(d,e[o++]),f=Math.max(f,e[o++]);this._indices[this._pos>>2]=u,e[this._pos++]=l,e[this._pos++]=h,e[this._pos++]=d,e[this._pos++]=f}}}search(e,n,r,i,s){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let a=this._boxes.length-4;const o=[],c=[];for(;a!==void 0;){const u=Math.min(a+this.nodeSize*4,Fi(a,this._levelBounds));for(let l=a;l<u;l+=4){if(r<this._boxes[l]||i<this._boxes[l+1]||e>this._boxes[l+2]||n>this._boxes[l+3])continue;const h=this._indices[l>>2]|0;a>=this.numItems*4?o.push(h):(s===void 0||s(h))&&(c.push(h),c.push(this._boxes[l]),c.push(this._boxes[l+1]))}a=o.pop()}return c}neighbors(e,n,r=1/0,i=1/0,s,a=xh){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let o=this._boxes.length-4;const c=this._queue,u=[];t:for(;o!==void 0;){const l=Math.min(o+this.nodeSize*4,Fi(o,this._levelBounds));for(let h=o;h<l;h+=4){const d=this._indices[h>>2]|0,f=this._boxes[h],m=this._boxes[h+1],p=this._boxes[h+2],g=this._boxes[h+3],w=e<f?f-e:e>p?e-p:0,T=n<m?m-n:n>g?n-g:0,M=a(w,T);M>i||(o>=this.numItems*4?c.push(d<<1,M):(s===void 0||s(d))&&c.push((d<<1)+1,M))}for(;c.length&&c.peek()&1;)if(c.peekValue()>i||(u.push(c.pop()>>1),u.length===r))break t;o=c.length?c.pop()>>1:void 0}return c.clear(),u}}function xh(t,e){return t*t+e*e}function Fi(t,e){let n=0,r=e.length-1;for(;n<r;){const i=n+r>>1;e[i]>t?r=i:n=i+1}return e[n]}function er(t,e,n,r,i,s){if(Math.floor(r/s)>=Math.floor(i/s))return;const a=t[r],o=t[r+i>>1],c=t[i];let u=c;const l=Math.max(a,o);c>l?u=l:l===a?u=Math.max(o,c):l===o&&(u=Math.max(a,c));let h=r-1,d=i+1;for(;;){do h++;while(t[h]<u);do d--;while(t[d]>u);if(h>=d)break;wh(t,e,n,h,d)}er(t,e,n,r,d,s),er(t,e,n,d+1,i,s)}function wh(t,e,n,r,i){const s=t[r];t[r]=t[i],t[i]=s;const a=4*r,o=4*i,c=e[a],u=e[a+1],l=e[a+2],h=e[a+3];e[a]=e[o],e[a+1]=e[o+1],e[a+2]=e[o+2],e[a+3]=e[o+3],e[o]=c,e[o+1]=u,e[o+2]=l,e[o+3]=h;const d=n[r];n[r]=n[i],n[i]=d}function Mh(t,e){let n=t^e,r=65535^n,i=65535^(t|e),s=t&(e^65535),a=n|r>>1,o=n>>1^n,c=i>>1^r&s>>1^i,u=n&i>>1^s>>1^s;n=a,r=o,i=c,s=u,a=n&n>>2^r&r>>2,o=n&r>>2^r&(n^r)>>2,c^=n&i>>2^r&s>>2,u^=r&i>>2^(n^r)&s>>2,n=a,r=o,i=c,s=u,a=n&n>>4^r&r>>4,o=n&r>>4^r&(n^r)>>4,c^=n&i>>4^r&s>>4,u^=r&i>>4^(n^r)&s>>4,n=a,r=o,i=c,s=u,c^=n&i>>8^r&s>>8,u^=r&i>>8^(n^r)&s>>8,n=c^c>>1,r=u^u>>1;let l=t^e,h=r|65535^(l|n);return l=(l|l<<8)&16711935,l=(l|l<<4)&252645135,l=(l|l<<2)&858993459,l=(l|l<<1)&1431655765,h=(h|h<<8)&16711935,h=(h|h<<4)&252645135,h=(h|h<<2)&858993459,h=(h|h<<1)&1431655765,(h<<1|l)>>>0}const bh=t=>{const e=new Map;return t.forEach(n=>{e.set(n.axisId,n)}),e},Zs=t=>t.zoom;I([Zs],t=>t==null?void 0:t.isInteracting);const Pt=I([Zs],t=>(t==null?void 0:t.zoomData)&&bh(t==null?void 0:t.zoomData));I([Pt,(t,e)=>e],(t,e)=>t==null?void 0:t.get(e));const Tn=I([lt,ht],(t,e)=>y({},_i("x")(t),_i("y")(e)));I([Tn,(t,e)=>e],(t,e)=>t[e]);const Ch=I([Ct],function(e){return Ns(e.width)}),Eh=I([Ct],function(e){return Ns(e.height)}),Gr=I([lt,pt,ae,fn,Ch],function(e,n,r,i,s){const a="x",o={};return e==null||e.forEach((c,u)=>{const l=c;if(ue(l)||ce(l)){o[l.id]={domain:l.data};return}const h=En(l,a,r,u,n);o[l.id]=Ws(l,"x",u,n,h,s,i)}),o}),_r=I([ht,pt,ae,fn,Eh],function(e,n,r,i,s){const a="y",o={};return e==null||e.forEach((c,u)=>{const l=c;if(ue(l)||ce(l)){o[l.id]={domain:l.data};return}const h=En(l,a,r,u,n);o[l.id]=Ws(l,"y",u,n,h,s,i)}),o}),Qs=I([Pt,Tn,lt,ht,Gr,_r],(t,e,n,r,i,s)=>{if(!t||!e)return;let a=!1;const o={},c=[...n??[],...r??[]];for(let u=0;u<c.length;u+=1){const l=c[u];if(!e[l.id]||e[l.id].filterMode!=="discard")continue;const h=t.get(l.id);if(h===void 0||h.start<=0&&h.end>=100)continue;const d=u<((n==null?void 0:n.length)??0)?"x":"y";if(l.scaleType==="band"||l.scaleType==="point")o[l.id]=dh(l.data,h.start,h.end,d);else{const{domain:f}=d==="x"?i[l.id]:s[l.id];o[l.id]=fh(f,h.start,h.end,d,l.data)}a=!0}if(a)return mh(o)}),Th=I([lt,pt,ae,Pt,Tn,Qs,fn,Gr],(t,e,n,r,i,s,a,o)=>{const c={};return t==null||t.forEach((u,l)=>{const h=o[u.id].domain;if(ue(u)||ce(u)){c[u.id]=h;return}const d=r==null?void 0:r.get(u.id),f=i==null?void 0:i[u.id],m=d===void 0&&!f?s:void 0;if(!m){c[u.id]=h;return}const p=o[u.id].tickNumber,g=En(u,"x",n,l,e,m);c[u.id]=Ks(u,"x",l,e,g,p,a)}),c},{memoizeOptions:{resultEqualityCheck:(t,e)=>Nt(t,e)}}),Sh=I([ht,pt,ae,Pt,Tn,Qs,fn,_r],(t,e,n,r,i,s,a,o)=>{const c={};return t==null||t.forEach((u,l)=>{const h=o[u.id].domain;if(ue(u)||ce(u)){c[u.id]=h;return}const d=r==null?void 0:r.get(u.id),f=i==null?void 0:i[u.id],m=d===void 0&&!f?s:void 0;if(!m){c[u.id]=h;return}const p=o[u.id].tickNumber,g=En(u,"y",n,l,e,m);c[u.id]=Ks(u,"y",l,e,g,p,a)}),c},{memoizeOptions:{resultEqualityCheck:(t,e)=>Nt(t,e)}}),Js=I([lt,Th],function(e,n){const r={};return e==null||e.forEach(i=>{const s=i,a=n[s.id];r[s.id]=js(s,a)}),r}),to=I([ht,Sh],function(e,n){const r={};return e==null||e.forEach(i=>{const s=i,a=n[s.id];r[s.id]=js(s,a)}),r}),Ah=I([lt,Js,Ct,Pt],function(e,n,r,i){const s={};return e==null||e.forEach(a=>{const o=a,c=i==null?void 0:i.get(o.id),u=c?[c.start,c.end]:[0,100],l=Ys(r,"x",o),h=n[o.id].copy(),d=Xs(l,u);h.range(d),s[o.id]=h}),s}),Ih=I([ht,to,Ct,Pt],function(e,n,r,i){const s={};return e==null||e.forEach(a=>{const o=a,c=i==null?void 0:i.get(o.id),u=c?[c.start,c.end]:[0,100],l=Ys(r,"y",o),h=n[o.id].copy(),d=Re(h)?l.reverse():l,f=Xs(d,u);h.range(f),s[o.id]=h}),s}),kt=I([lt,Ct,pt,ae,Pt,Gr,Ah],(t,e,n,r,i,s,a)=>zs({scales:a,drawingArea:e,formattedSeries:n,axis:t,seriesConfig:r,axisDirection:"x",zoomMap:i,domains:s})),Rt=I([ht,Ct,pt,ae,Pt,_r,Ih],(t,e,n,r,i,s,a)=>zs({scales:a,drawingArea:e,formattedSeries:n,axis:t,seriesConfig:r,axisDirection:"y",zoomMap:i,domains:s}));I([kt,Rt,(t,e)=>e],(t,e,n)=>(t==null?void 0:t.axis[n])??(e==null?void 0:e.axis[n]));I([lt,ht,(t,e)=>e],(t,e,n)=>{const r=(t==null?void 0:t.find(i=>i.id===n))??(e==null?void 0:e.find(i=>i.id===n))??null;if(r)return r});const Dh=I([lt],t=>t[0].id),Ph=I([ht],t=>t[0].id);I([pt,Js,to,Dh,Ph],function(e,n,r,i,s){const a=e.scatter,o=new Map;return a&&a.seriesOrder.forEach(c=>{const{data:u,xAxisId:l=i,yAxisId:h=s}=a.series[c],d=new Or(u.length),f=n[l],m=r[h];for(const p of u)d.add(f(p.x),m(p.y));d.finish(),o.set(c,d)}),o});function Vt(t){return t instanceof Date?t.getTime():t}function re(t,e){const{scale:n,data:r,reverse:i}=t;if(!Re(n)){const a=n.invert(e);if(r===void 0)return-1;const o=Vt(a);return r==null?void 0:r.findIndex((u,l)=>{const h=Vt(u);return h>o&&(l===0||Math.abs(o-h)<=Math.abs(o-Vt(r[l-1])))||h<=o&&(l===r.length-1||Math.abs(Vt(a)-h)<Math.abs(Vt(a)-Vt(r[l+1])))})}const s=n.bandwidth()===0?Math.floor((e-Math.min(...n.range())+n.step()/2)/n.step()):Math.floor((e-Math.min(...n.range()))/n.step());return s<0||s>=r.length?-1:i?r.length-1-s:s}function Ni(t,e,n,r){if(!Re(t)){if(r===null){const i=t.invert(n);return Number.isNaN(i)?null:i}return e[r]}return r===null||r<0||r>=e.length?null:e[r]}function Ui(t,e){const n=t.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n.matrixTransform(t.getScreenCTM().inverse())}const kh=Object.is;function eo(t,e){if(t===e)return!0;if(!(t instanceof Object)||!(e instanceof Object))return!1;let n=0,r=0;for(const i in t)if(n+=1,!kh(t[i],e[i])||!(i in e))return!1;for(const i in e)r+=1;return n===r}const Lr=({store:t})=>{const e=Bt(function(){t.update(a=>y({},a,{interaction:y({},a.interaction,{pointer:null,item:null})}))}),n=Bt(function(a){t.update(o=>{const c=o.interaction.item;return a?c===null||Object.keys(a).some(u=>a[u]!==c[u])?o:y({},o,{interaction:y({},o.interaction,{item:null})}):c===null?o:y({},o,{interaction:y({},o.interaction,{item:null})})})}),r=Bt(function(a){t.update(o=>eo(o.interaction.item,a)?o:y({},o,{interaction:y({},o.interaction,{item:a})}))}),i=Bt(function(a){t.update(o=>y({},o,{interaction:y({},o.interaction,{pointer:a,lastUpdate:a!==null?"pointer":o.interaction.lastUpdate})}))});return{instance:{cleanInteraction:e,setItemInteraction:r,removeItemInteraction:n,setPointerCoordinate:i}}};Lr.getInitialState=()=>({interaction:{item:null,pointer:null,lastUpdate:"pointer"}});Lr.params={};const Sn=t=>t.interaction,Rh=I([Sn],t=>t!==void 0),$h=I([Sn],t=>(t==null?void 0:t.item)??null),no=I([Sn],t=>(t==null?void 0:t.pointer)??null),An=I([no],t=>t&&t.x),In=I([no],t=>t&&t.y);I([$h],t=>t!==null);I([Sn],t=>t==null?void 0:t.lastUpdate);const Dn=(t,e)=>e;function nr(t,e,n=e.axisIds[0]){return Array.isArray(n)?n.map(r=>re(e.axis[r],t)):re(e.axis[n],t)}const ro=(t,e,n)=>{if(t===null)return null;const r=nr(t,e,n);return r===-1?null:r},Oh=I([An,kt,Dn],ro),Gh=I([In,Rt,Dn],ro),_h=I([An,In,kt,Rt],(t,e,n,r)=>[...t===null?[]:n.axisIds.map(i=>({axisId:i,dataIndex:nr(t,n,i)})),...e===null?[]:r.axisIds.map(i=>({axisId:i,dataIndex:nr(e,r,i)}))].filter(i=>i.dataIndex!==null&&i.dataIndex>=0));function io(t,e,n,r=e.axisIds[0]){return Array.isArray(r)?r.map((i,s)=>{const a=e.axis[i];return Ni(a.scale,a.data,t,n[s])}):Ni(e.axis[r].scale,e.axis[r].data,t,n)}I([An,kt,Oh,Dn],(t,e,n,r)=>t===null||e.axisIds.length===0?null:io(t,e,n,r));I([In,Rt,Gh,Dn],(t,e,n,r)=>t===null||e.axisIds.length===0?null:io(t,e,n,r));const Lh=I([An,kt],(t,e)=>t===null?[]:e.axisIds.filter(n=>e.axis[n].triggerTooltip).map(n=>({axisId:n,dataIndex:re(e.axis[n],t)})).filter(({dataIndex:n})=>n>=0),{memoizeOptions:{resultEqualityCheck:Nt}}),Fh=I([In,Rt],(t,e)=>t===null?[]:e.axisIds.filter(n=>e.axis[n].triggerTooltip).map(n=>({axisId:n,dataIndex:re(e.axis[n],t)})).filter(({dataIndex:n})=>n>=0),{memoizeOptions:{resultEqualityCheck:Nt}});I([Lh,Fh],(t,e)=>t.length>0||e.length>0);const Nh=()=>{};function Uh(t,e,n,r){const i=No(Hh,{store:t,selector:e,skip:r}).current;i.effect=n,A.useEffect(i.onMount(r),[r])}function Hh(t){const{store:e,selector:n,skip:r}=t;let i=!1,s;const a=()=>{o.dispose??(o.dispose=e.subscribe(c=>{const u=n(c);o.effect(s,u),s=u}))},o={effect:Nh,dispose:null,onMount:c=>()=>{if(!c)return i||(i=!0,s=n(e.value)),a(),()=>{var u;(u=o.dispose)==null||u.call(o),o.dispose=null}}};return r||(i=!0,s=n(e.value),a()),o}function zh(t){return t.setPointerCoordinate!==void 0}const Pn=({params:t,store:e,seriesConfig:n,svgRef:r,instance:i})=>{const{xAxis:s,yAxis:a,dataset:o,onHighlightedAxisChange:c}=t,u=Z(e,Ct),l=Z(e,pt),h=Z(e,Rh),{axis:d,axisIds:f}=Z(e,kt),{axis:m,axisIds:p}=Z(e,Rt);hs({controlled:t.highlightedAxis}),Dt(()=>{t.highlightedAxis!==void 0&&e.update(b=>b.controlledCartesianAxisHighlight===t.highlightedAxis?b:y({},b,{controlledCartesianAxisHighlight:t.highlightedAxis}))},[e,t.highlightedAxis]);const g=A.useRef(!0);A.useEffect(()=>{if(g.current){g.current=!1;return}e.update(b=>y({},b,{cartesianAxis:y({},b.cartesianAxis,{x:ms(s,o),y:ps(a,o)})}))},[n,u,s,a,o,e]);const w=f[0],T=p[0];Uh(e,_h,(b,C)=>{if(!Object.is(b,C)){if(b.length!==C.length){c(C);return}b!=null&&b.some(({axisId:v,dataIndex:$},P)=>C[P].axisId!==v||C[P].dataIndex!==$)&&c(C)}},!c);const M=zh(i);return A.useEffect(()=>{const b=r.current;if(!h||!M||!b||t.disableAxisListener)return()=>{};const C=i.addInteractionListener("moveEnd",O=>{O.detail.activeGestures.pan||i.cleanInteraction()}),v=i.addInteractionListener("panEnd",O=>{O.detail.activeGestures.move||i.cleanInteraction()}),$=i.addInteractionListener("quickPressEnd",O=>{!O.detail.activeGestures.move&&!O.detail.activeGestures.pan&&i.cleanInteraction()}),P=O=>{var W;const S=O.detail.srcEvent,k=O.detail.target,z=Ui(b,S);if(O.detail.srcEvent.buttons>=1&&(k!=null&&k.hasPointerCapture(O.detail.srcEvent.pointerId))&&!(k!=null&&k.closest("[data-charts-zoom-slider]"))&&(k==null||k.releasePointerCapture(O.detail.srcEvent.pointerId)),!i.isPointInside(z.x,z.y,k)){(W=i.cleanInteraction)==null||W.call(i);return}i.setPointerCoordinate(z)},L=i.addInteractionListener("move",P),F=i.addInteractionListener("pan",P),D=i.addInteractionListener("quickPress",P);return()=>{L.cleanup(),C.cleanup(),F.cleanup(),v.cleanup(),D.cleanup(),$.cleanup()}},[r,e,d,w,m,T,i,t.disableAxisListener,h,M]),A.useEffect(()=>{const b=r.current,C=t.onAxisClick;if(b===null||!C)return()=>{};const v=i.addInteractionListener("tap",$=>{let P=null,L=!1;const F=Ui(b,$.detail.srcEvent),D=re(d[w],F.x);L=D!==-1,P=L?D:re(m[T],F.y);const O=L?f[0]:p[0];if(P==null||P===-1)return;const S=(L?d:m)[O].data[P],k={};Object.keys(l).filter(z=>["bar","line"].includes(z)).forEach(z=>{var W;(W=l[z])==null||W.seriesOrder.forEach(V=>{const K=l[z].series[V],X=K.xAxisId,St=K.yAxisId,gt=L?X:St;(gt===void 0||gt===O)&&(k[V]=K.data[P])})}),C($.detail.srcEvent,{dataIndex:P,axisValue:S,seriesValues:k})});return()=>{v.cleanup()}},[t.onAxisClick,l,r,d,f,m,p,w,T,i]),{}};Pn.params={xAxis:!0,yAxis:!0,dataset:!0,onAxisClick:!0,disableAxisListener:!0,onHighlightedAxisChange:!0,highlightedAxis:!0};Pn.getDefaultizedParams=({params:t})=>y({},t,{colors:t.colors??os,theme:t.theme??"light",defaultizedXAxis:ms(t.xAxis,t.dataset),defaultizedYAxis:ps(t.yAxis,t.dataset)});Pn.getInitialState=t=>y({cartesianAxis:{x:t.defaultizedXAxis,y:t.defaultizedYAxis}},t.highlightedAxis===void 0?{}:{controlledCartesianAxisHighlight:t.highlightedAxis});const $e=t=>t.keyboardNavigation,Yh=I([$e],t=>(t==null?void 0:t.item)!=null),Fr=I([$e],t=>{var e;return(e=t==null?void 0:t.item)==null?void 0:e.type}),Nr=I([$e],t=>{var e;return(e=t==null?void 0:t.item)==null?void 0:e.seriesId}),Ur=I([$e],t=>{var e;return(e=t==null?void 0:t.item)==null?void 0:e.dataIndex}),jh=I([$e],t=>!!(t!=null&&t.enableKeyboardNavigation)),so=t=>(e,n,r,i,s)=>{var c;if(e===void 0||n===void 0||r===void 0)return;const a=(c=s[e])==null?void 0:c.series[n];if(!a)return;let o=t==="x"?"xAxisId"in a&&a.xAxisId:"yAxisId"in a&&a.yAxisId;return(o===void 0||o===!1)&&(o=i.axisIds[0]),{axisId:o,dataIndex:r}};I([Fr,Nr,Ur,kt,pt],so("x"));I([Fr,Nr,Ur,Rt,pt],so("y"));I([Fr,Nr,Ur],function(e,n,r){return n===void 0?null:{seriesId:n,dataIndex:e==="line"?void 0:r}});function Hi(t,e){return t.id!==void 0?t:y({id:e},t)}function zi(t){return t.colorMap?y({},t,{colorScale:t.colorMap.type==="ordinal"&&t.data?en(y({values:t.data},t.colorMap)):tr(t.colorMap.type==="continuous"?y({min:t.min,max:t.max},t.colorMap):t.colorMap)}):t}function oo(t,e){if(!t||t.length===0)return{axis:{},axisIds:[]};const n={},r=[];return t.forEach((i,s)=>{const a=i.dataKey,o=i.id??`defaultized-z-axis-${s}`;if(a===void 0||i.data!==void 0){n[o]=zi(Hi(i,o)),r.push(o);return}if(e===void 0)throw new Error("MUI X Charts: z-axis uses `dataKey` but no `dataset` is provided.");n[o]=zi(Hi(y({},i,{data:e.map(c=>c[a])}),o)),r.push(o)}),{axis:n,axisIds:r}}const Hr=({params:t,store:e})=>{const{zAxis:n,dataset:r}=t,i=A.useRef(!0);return A.useEffect(()=>{if(i.current){i.current=!1;return}e.update(s=>y({},s,{zAxis:oo(n,r)}))},[n,r,e]),{}};Hr.params={zAxis:!0,dataset:!0};Hr.getInitialState=t=>({zAxis:oo(t.zAxis,t.dataset)});const Xh=t=>t,qh=I([Xh],t=>t.zAxis),kn=({store:t,params:e})=>{hs({controlled:e.highlightedItem}),Dt(()=>{t.update(i=>i.highlight.item===e.highlightedItem?i:y({},i,{highlight:y({},i.highlight,{item:e.highlightedItem})}))},[t,e.highlightedItem]);const n=Bt(()=>{var s;(s=e.onHighlightChange)==null||s.call(e,null),t.getSnapshot().highlight.item!==null&&t.update(a=>y({},a,{highlight:{item:null,lastUpdate:"pointer"}}))}),r=Bt(i=>{var a;const s=t.getSnapshot().highlight.item;eo(s,i)||((a=e.onHighlightChange)==null||a.call(e,i),t.update(o=>y({},o,{highlight:{item:i,lastUpdate:"pointer"}})))});return{instance:{clearHighlight:n,setHighlight:r}}};kn.getDefaultizedParams=({params:t})=>y({},t,{highlightedItem:t.highlightedItem??null});kn.getInitialState=t=>({highlight:{item:t.highlightedItem,lastUpdate:"pointer"}});kn.params={highlightedItem:!0,onHighlightChange:!0};function ao(t){let e=1/0,n=-1/0;for(const r of t??[])r<e&&(e=r),r>n&&(n=r);return[e,n]}const Yi=(t,e)=>e==="x"?{x:t,y:null}:{x:null,y:t},uo=t=>{var a;const{axis:e,getFilters:n,isDefaultAxis:r}=t,i=n==null?void 0:n({currentAxisId:e.id,isDefaultAxis:r}),s=i?(a=e.data)==null?void 0:a.filter((o,c)=>i({x:null,y:null},c)):e.data;return ao(s??[])},co=t=>e=>{const{series:n,axis:r,getFilters:i,isDefaultAxis:s}=e;return Object.keys(n).filter(a=>{const o=t==="x"?n[a].xAxisId:n[a].yAxisId;return o===r.id||s&&o===void 0}).reduce((a,o)=>{const{stackedData:c}=n[o],u=i==null?void 0:i({currentAxisId:r.id,isDefaultAxis:s,seriesXAxisId:n[o].xAxisId,seriesYAxisId:n[o].yAxisId}),[l,h]=(c==null?void 0:c.reduce((d,f,m)=>u&&(!u(Yi(f[0],t),m)||!u(Yi(f[1],t),m))?d:[Math.min(...f,d[0]),Math.max(...f,d[1])],[1/0,-1/0]))??[1/0,-1/0];return[Math.min(l,a[0]),Math.max(h,a[1])]},[1/0,-1/0])},Wh=t=>Object.keys(t.series).some(n=>t.series[n].layout==="horizontal")?co("x")(t):uo(t),Kh=t=>Object.keys(t.series).some(n=>t.series[n].layout==="horizontal")?uo(t):co("y")(t);function Y(t){return function(){return t}}const ji=Math.abs,B=Math.atan2,Ot=Math.cos,Vh=Math.max,Yn=Math.min,dt=Math.sin,Zt=Math.sqrt,tt=1e-12,Ae=Math.PI,nn=Ae/2,je=2*Ae;function Bh(t){return t>1?0:t<-1?Ae:Math.acos(t)}function Xi(t){return t>=1?nn:t<=-1?-nn:Math.asin(t)}const rr=Math.PI,ir=2*rr,Gt=1e-6,Zh=ir-Gt;function lo(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Qh(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return lo;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Jh{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?lo:Qh(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,c=r-e,u=i-n,l=a-e,h=o-n,d=l*l+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Gt)if(!(Math.abs(h*c-u*l)>Gt)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let f=r-a,m=i-o,p=c*c+u*u,g=f*f+m*m,w=Math.sqrt(p),T=Math.sqrt(d),M=s*Math.tan((rr-Math.acos((p+d-g)/(2*w*T)))/2),b=M/T,C=M/w;Math.abs(b-1)>Gt&&this._append`L${e+b*l},${n+b*h}`,this._append`A${s},${s},0,0,${+(h*f>l*m)},${this._x1=e+C*c},${this._y1=n+C*u}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),c=r*Math.sin(i),u=e+o,l=n+c,h=1^a,d=a?i-s:s-i;this._x1===null?this._append`M${u},${l}`:(Math.abs(this._x1-u)>Gt||Math.abs(this._y1-l)>Gt)&&this._append`L${u},${l}`,r&&(d<0&&(d=d%ir+ir),d>Zh?this._append`A${r},${r},0,1,${h},${e-o},${n-c}A${r},${r},0,1,${h},${this._x1=u},${this._y1=l}`:d>Gt&&this._append`A${r},${r},0,${+(d>=rr)},${h},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function td(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Jh(e)}function ed(t){return t.innerRadius}function nd(t){return t.outerRadius}function rd(t){return t.startAngle}function id(t){return t.endAngle}function sd(t){return t&&t.padAngle}function od(t,e,n,r,i,s,a,o){var c=n-t,u=r-e,l=a-i,h=o-s,d=h*c-l*u;if(!(d*d<tt))return d=(l*(e-s)-h*(t-i))/d,[t+d*c,e+d*u]}function Ue(t,e,n,r,i,s,a){var o=t-n,c=e-r,u=(a?s:-s)/Zt(o*o+c*c),l=u*c,h=-u*o,d=t+l,f=e+h,m=n+l,p=r+h,g=(d+m)/2,w=(f+p)/2,T=m-d,M=p-f,b=T*T+M*M,C=i-s,v=d*p-m*f,$=(M<0?-1:1)*Zt(Vh(0,C*C*b-v*v)),P=(v*M-T*$)/b,L=(-v*T-M*$)/b,F=(v*M+T*$)/b,D=(-v*T+M*$)/b,O=P-g,S=L-w,k=F-g,z=D-w;return O*O+S*S>k*k+z*z&&(P=F,L=D),{cx:P,cy:L,x01:-l,y01:-h,x11:P*(i/C-1),y11:L*(i/C-1)}}function ho(){var t=ed,e=nd,n=Y(0),r=null,i=rd,s=id,a=sd,o=null,c=td(u);function u(){var l,h,d=+t.apply(this,arguments),f=+e.apply(this,arguments),m=i.apply(this,arguments)-nn,p=s.apply(this,arguments)-nn,g=ji(p-m),w=p>m;if(o||(o=l=c()),f<d&&(h=f,f=d,d=h),!(f>tt))o.moveTo(0,0);else if(g>je-tt)o.moveTo(f*Ot(m),f*dt(m)),o.arc(0,0,f,m,p,!w),d>tt&&(o.moveTo(d*Ot(p),d*dt(p)),o.arc(0,0,d,p,m,w));else{var T=m,M=p,b=m,C=p,v=g,$=g,P=a.apply(this,arguments)/2,L=P>tt&&(r?+r.apply(this,arguments):Zt(d*d+f*f)),F=Yn(ji(f-d)/2,+n.apply(this,arguments)),D=F,O=F,S,k;if(L>tt){var z=Xi(L/d*dt(P)),W=Xi(L/f*dt(P));(v-=z*2)>tt?(z*=w?1:-1,b+=z,C-=z):(v=0,b=C=(m+p)/2),($-=W*2)>tt?(W*=w?1:-1,T+=W,M-=W):($=0,T=M=(m+p)/2)}var V=f*Ot(T),K=f*dt(T),X=d*Ot(C),St=d*dt(C);if(F>tt){var gt=f*Ot(M),qt=f*dt(M),le=d*Ot(b),he=d*dt(b),at;if(g<Ae)if(at=od(V,K,le,he,gt,qt,X,St)){var de=V-at[0],fe=K-at[1],me=gt-at[0],E=qt-at[1],_=1/dt(Bh((de*me+fe*E)/(Zt(de*de+fe*fe)*Zt(me*me+E*E)))/2),N=Zt(at[0]*at[0]+at[1]*at[1]);D=Yn(F,(d-N)/(_-1)),O=Yn(F,(f-N)/(_+1))}else D=O=0}$>tt?O>tt?(S=Ue(le,he,V,K,f,O,w),k=Ue(gt,qt,X,St,f,O,w),o.moveTo(S.cx+S.x01,S.cy+S.y01),O<F?o.arc(S.cx,S.cy,O,B(S.y01,S.x01),B(k.y01,k.x01),!w):(o.arc(S.cx,S.cy,O,B(S.y01,S.x01),B(S.y11,S.x11),!w),o.arc(0,0,f,B(S.cy+S.y11,S.cx+S.x11),B(k.cy+k.y11,k.cx+k.x11),!w),o.arc(k.cx,k.cy,O,B(k.y11,k.x11),B(k.y01,k.x01),!w))):(o.moveTo(V,K),o.arc(0,0,f,T,M,!w)):o.moveTo(V,K),!(d>tt)||!(v>tt)?o.lineTo(X,St):D>tt?(S=Ue(X,St,gt,qt,d,-D,w),k=Ue(V,K,le,he,d,-D,w),o.lineTo(S.cx+S.x01,S.cy+S.y01),D<F?o.arc(S.cx,S.cy,D,B(S.y01,S.x01),B(k.y01,k.x01),!w):(o.arc(S.cx,S.cy,D,B(S.y01,S.x01),B(S.y11,S.x11),!w),o.arc(0,0,d,B(S.cy+S.y11,S.cx+S.x11),B(k.cy+k.y11,k.cx+k.x11),w),o.arc(k.cx,k.cy,D,B(k.y11,k.x11),B(k.y01,k.x01),!w))):o.arc(0,0,d,C,b,w)}if(o.closePath(),l)return o=null,l+""||null}return u.centroid=function(){var l=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,h=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-Ae/2;return[Ot(h)*l,dt(h)*l]},u.innerRadius=function(l){return arguments.length?(t=typeof l=="function"?l:Y(+l),u):t},u.outerRadius=function(l){return arguments.length?(e=typeof l=="function"?l:Y(+l),u):e},u.cornerRadius=function(l){return arguments.length?(n=typeof l=="function"?l:Y(+l),u):n},u.padRadius=function(l){return arguments.length?(r=l==null?null:typeof l=="function"?l:Y(+l),u):r},u.startAngle=function(l){return arguments.length?(i=typeof l=="function"?l:Y(+l),u):i},u.endAngle=function(l){return arguments.length?(s=typeof l=="function"?l:Y(+l),u):s},u.padAngle=function(l){return arguments.length?(a=typeof l=="function"?l:Y(+l),u):a},u.context=function(l){return arguments.length?(o=l??null,u):o},u}function fo(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ad(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function ud(t){return t}function cd(){var t=ud,e=ad,n=null,r=Y(0),i=Y(je),s=Y(0);function a(o){var c,u=(o=fo(o)).length,l,h,d=0,f=new Array(u),m=new Array(u),p=+r.apply(this,arguments),g=Math.min(je,Math.max(-je,i.apply(this,arguments)-p)),w,T=Math.min(Math.abs(g)/u,s.apply(this,arguments)),M=T*(g<0?-1:1),b;for(c=0;c<u;++c)(b=m[f[c]=c]=+t(o[c],c,o))>0&&(d+=b);for(e!=null?f.sort(function(C,v){return e(m[C],m[v])}):n!=null&&f.sort(function(C,v){return n(o[C],o[v])}),c=0,h=d?(g-u*M)/d:0;c<u;++c,p=w)l=f[c],b=m[l],w=p+(b>0?b*h:0)+M,m[l]={data:o[l],index:c,value:b,startAngle:p,endAngle:w,padAngle:T};return m}return a.value=function(o){return arguments.length?(t=typeof o=="function"?o:Y(+o),a):t},a.sortValues=function(o){return arguments.length?(e=o,n=null,a):e},a.sort=function(o){return arguments.length?(n=o,e=null,a):n},a.startAngle=function(o){return arguments.length?(r=typeof o=="function"?o:Y(+o),a):r},a.endAngle=function(o){return arguments.length?(i=typeof o=="function"?o:Y(+o),a):i},a.padAngle=function(o){return arguments.length?(s=typeof o=="function"?o:Y(+o),a):s},a}function ie(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,o=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function se(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function ld(t,e){return t[e]}function hd(t){const e=[];return e.key=t,e}function mo(){var t=Y([]),e=se,n=ie,r=ld;function i(s){var a=Array.from(t.apply(this,arguments),hd),o,c=a.length,u=-1,l;for(const h of s)for(o=0,++u;o<c;++o)(a[o][u]=[0,+r(h,a[o].key,u,s)]).data=h;for(o=0,l=fo(e(a));o<c;++o)a[l[o]].index=o;return n(a,l),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Y(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Y(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?se:typeof s=="function"?s:Y(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??ie,i):n},i}function dd(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}ie(t,e)}}function fd(t,e){if((c=t.length)>0)for(var n,r=0,i,s,a,o,c,u=t[e[0]].length;r<u;++r)for(a=o=0,n=0;n<c;++n)(s=(i=t[e[n]][r])[1]-i[0])>0?(i[0]=a,i[1]=a+=s):s<0?(i[1]=o,i[0]=o+=s):(i[0]=0,i[1]=s)}function md(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,o=0;a<i;++a)o+=t[a][n][1]||0;r[n][1]+=r[n][0]=-o/2}ie(t,e)}}function pd(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var o=0,c=0,u=0;o<a;++o){for(var l=t[e[o]],h=l[r][1]||0,d=l[r-1][1]||0,f=(h-d)/2,m=0;m<o;++m){var p=t[e[m]],g=p[r][1]||0,w=p[r-1][1]||0;f+=g-w}c+=h,u+=f*h}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,ie(t,e)}}function po(t){var e=t.map(gd);return se(t).sort(function(n,r){return e[n]-e[r]})}function gd(t){for(var e=-1,n=0,r=t.length,i,s=-1/0;++e<r;)(i=+t[e][1])>s&&(s=i,n=e);return n}function go(t){var e=t.map(yo);return se(t).sort(function(n,r){return e[n]-e[r]})}function yo(t){for(var e=0,n=-1,r=t.length,i;++n<r;)(i=+t[n][1])&&(e+=i);return e}function yd(t){return go(t).reverse()}function vd(t){var e=t.length,n,r,i=t.map(yo),s=po(t),a=0,o=0,c=[],u=[];for(n=0;n<e;++n)r=s[n],a<o?(a+=i[r],c.push(r)):(o+=i[r],u.push(r));return u.reverse().concat(c)}function xd(t){return se(t).reverse()}const jn={appearance:po,ascending:go,descending:yd,insideOut:vd,none:se,reverse:xd},Xn={expand:dd,diverging:fd,none:ie,silhouette:md,wiggle:pd},vo=t=>{const{series:e,seriesOrder:n,defaultStrategy:r}=t,i=[],s={};return n.forEach(a=>{const{stack:o,stackOrder:c,stackOffset:u}=e[a];o===void 0?i.push({ids:[a],stackingOrder:jn.none,stackingOffset:Xn.none}):s[o]===void 0?(s[o]=i.length,i.push({ids:[a],stackingOrder:jn[c??(r==null?void 0:r.stackOrder)??"none"],stackingOffset:Xn[u??(r==null?void 0:r.stackOffset)??"diverging"]})):(i[s[o]].ids.push(a),c!==void 0&&(i[s[o]].stackingOrder=jn[c]),u!==void 0&&(i[s[o]].stackingOffset=Xn[u]))}),i},wd=t=>t==null?"":t.toLocaleString(),Md=(t,e)=>{const{seriesOrder:n,series:r}=t,i=vo(t),s=e??[];n.forEach(o=>{const c=r[o].data;if(c!==void 0)c.forEach((u,l)=>{s.length<=l?s.push({[o]:u}):s[l][o]=u});else if(e===void 0)throw new Error([`MUI X Charts: bar series with id='${o}' has no data.`,"Either provide a data property to the series or use the dataset prop."].join(`
`))});const a={};return i.forEach(o=>{const{ids:c,stackingOffset:u,stackingOrder:l}=o,h=mo().keys(c.map(d=>{const f=r[d].dataKey;return r[d].data===void 0&&f!==void 0?f:d})).value((d,f)=>d[f]??0).order(l).offset(u)(s);c.forEach((d,f)=>{const m=r[d].dataKey;a[d]=y({layout:"vertical",labelMarkType:"square",minBarSize:0,valueFormatter:r[d].valueFormatter??wd},r[d],{data:m?e.map(p=>{const g=p[m];return typeof g!="number"?null:g}):r[d].data,stackedData:h[f].map(([p,g])=>[p,g])})})}),{seriesOrder:n,stackingGroups:i,series:a}};function Tt(t,e){return typeof t=="function"?t(e):t}const bd=t=>{const{seriesOrder:e,series:n}=t;return e.reduce((r,i)=>{const s=Tt(n[i].label,"legend");return s===void 0||r.push({markType:n[i].labelMarkType,id:i,seriesId:i,color:n[i].color,label:s}),r},[])},Cd=(t,e,n)=>{const r=t.layout==="vertical",i=r?e==null?void 0:e.colorScale:n==null?void 0:n.colorScale,s=r?n==null?void 0:n.colorScale:e==null?void 0:e.colorScale,a=r?e==null?void 0:e.data:n==null?void 0:n.data;return s?o=>{if(o===void 0)return t.color;const c=t.data[o],u=c===null?t.color:s(c);return u===null?t.color:u}:i&&a?o=>{if(o===void 0)return t.color;const c=a[o],u=c===null?t.color:i(c);return u===null?t.color:u}:()=>t.color},Ed=t=>{const{series:e,getColor:n,identifier:r}=t;if(!r||r.dataIndex===void 0)return null;const i=Tt(e.label,"tooltip"),s=e.data[r.dataIndex];if(s==null)return null;const a=e.valueFormatter(s,{dataIndex:r.dataIndex});return{identifier:r,color:n(r.dataIndex),label:i,value:s,formattedValue:a,markType:e.labelMarkType}},Td=t=>Object.values(t).map(e=>e.layout==="horizontal"?{direction:"y",axisId:e.yAxisId}:{direction:"x",axisId:e.xAxisId}),Sd=(t,e,n)=>y({id:t.id??`auto-generated-id-${e}`,color:n[e%n.length]},t),Ad={seriesProcessor:Md,colorProcessor:Cd,legendGetter:bd,tooltipGetter:Ed,axisTooltipGetter:Td,xExtremumGetter:Wh,yExtremumGetter:Kh,getSeriesWithDefaultValues:Sd},Id=t=>{const{series:e,axis:n,isDefaultAxis:r,getFilters:i}=t;let s=1/0,a=-1/0;for(const o in e){if(!Object.hasOwn(e,o))continue;const c=e[o].xAxisId;if(!(c===n.id||c===void 0&&r))continue;const u=i==null?void 0:i({currentAxisId:n.id,isDefaultAxis:r,seriesXAxisId:e[o].xAxisId,seriesYAxisId:e[o].yAxisId}),l=e[o].data??[];for(let h=0;h<l.length;h+=1){const d=l[h];u&&!u(d,h)||d.x!==null&&(d.x<s&&(s=d.x),d.x>a&&(a=d.x))}}return[s,a]},Dd=t=>{const{series:e,axis:n,isDefaultAxis:r,getFilters:i}=t;let s=1/0,a=-1/0;for(const o in e){if(!Object.hasOwn(e,o))continue;const c=e[o].yAxisId;if(!(c===n.id||c===void 0&&r))continue;const u=i==null?void 0:i({currentAxisId:n.id,isDefaultAxis:r,seriesXAxisId:e[o].xAxisId,seriesYAxisId:e[o].yAxisId}),l=e[o].data??[];for(let h=0;h<l.length;h+=1){const d=l[h];u&&!u(d,h)||d.y!==null&&(d.y<s&&(s=d.y),d.y>a&&(a=d.y))}}return[s,a]},Pd=({series:t,seriesOrder:e},n)=>({series:Object.fromEntries(Object.entries(t).map(([i,s])=>{const a=s==null?void 0:s.datasetKeys,o=["x","y"].filter(u=>typeof(a==null?void 0:a[u])!="string");if(s!=null&&s.datasetKeys&&o.length>0)throw new Error([`MUI X Charts: scatter series with id='${i}' has incomplete datasetKeys.`,`Properties ${o.map(u=>`"${u}"`).join(", ")} are missing.`].join(`
`));const c=a?(n==null?void 0:n.map(u=>({x:u[a.x]??null,y:u[a.y]??null,z:a.z&&u[a.z],id:a.id&&u[a.id]})))??[]:s.data??[];return[i,y({labelMarkType:"circle",markerSize:4},s,{preview:y({markerSize:1},s==null?void 0:s.preview),data:c,valueFormatter:s.valueFormatter??(u=>u&&`(${u.x}, ${u.y})`)})]})),seriesOrder:e}),kd=(t,e,n,r)=>{const i=r==null?void 0:r.colorScale,s=n==null?void 0:n.colorScale,a=e==null?void 0:e.colorScale;return i?o=>{var l,h;if(o===void 0)return t.color;if(((l=r==null?void 0:r.data)==null?void 0:l[o])!==void 0){const d=i((h=r==null?void 0:r.data)==null?void 0:h[o]);if(d!==null)return d}const c=t.data[o],u=c===null?t.color:i(c.z);return u===null?t.color:u}:s?o=>{if(o===void 0)return t.color;const c=t.data[o],u=c===null?t.color:s(c.y);return u===null?t.color:u}:a?o=>{if(o===void 0)return t.color;const c=t.data[o],u=c===null?t.color:a(c.x);return u===null?t.color:u}:()=>t.color},Rd=t=>{const{seriesOrder:e,series:n}=t;return e.reduce((r,i)=>{const s=Tt(n[i].label,"legend");return s===void 0||r.push({markType:n[i].labelMarkType,id:i,seriesId:i,color:n[i].color,label:s}),r},[])},$d=t=>{const{series:e,getColor:n,identifier:r}=t;if(!r||r.dataIndex===void 0)return null;const i=Tt(e.label,"tooltip"),s=e.data[r.dataIndex],a=e.valueFormatter(s,{dataIndex:r.dataIndex});return{identifier:r,color:n(r.dataIndex),label:i,value:s,formattedValue:a,markType:e.labelMarkType}},Od=(t,e,n)=>y({id:t.id??`auto-generated-id-${e}`,color:n[e%n.length]},t),Gd={seriesProcessor:Pd,colorProcessor:kd,legendGetter:Rd,tooltipGetter:$d,xExtremumGetter:Id,yExtremumGetter:Dd,getSeriesWithDefaultValues:Od},_d=t=>{const{axis:e}=t;return ao(e.data??[])};function Ld(t,e,n,r){return n.reduce((i,s,a)=>{if(e[a]===null)return i;const[o,c]=t(s);return r&&(!r({y:o,x:null},a)||!r({y:c,x:null},a))?i:[Math.min(o,c,i[0]),Math.max(o,c,i[1])]},[1/0,-1/0])}const Fd=t=>{const{series:e,axis:n,isDefaultAxis:r,getFilters:i}=t;return Object.keys(e).filter(s=>{const a=e[s].yAxisId;return a===n.id||r&&a===void 0}).reduce((s,a)=>{const{area:o,stackedData:c,data:u}=e[a],l=o!==void 0,h=i==null?void 0:i({currentAxisId:n.id,isDefaultAxis:r,seriesXAxisId:e[a].xAxisId,seriesYAxisId:e[a].yAxisId}),d=l&&n.scaleType!=="log"&&typeof e[a].baseline!="string"?g=>g:g=>[g[1],g[1]],f=Ld(d,u,c,h),[m,p]=f;return[Math.min(m,s[0]),Math.max(p,s[1])]},[1/0,-1/0])};function Nd(t,e){const n={};return Object.keys(t).forEach(r=>{n[r]=y({},t[r],{valueFormatter:t[r].valueFormatter??e})}),n}const Ud=(t,e)=>{const{seriesOrder:n,series:r}=t,i=vo(y({},t,{defaultStrategy:{stackOffset:"none"}})),s=e??[];n.forEach(o=>{const c=r[o].data;c!==void 0&&c.forEach((u,l)=>{s.length<=l?s.push({[o]:u}):s[l][o]=u})});const a={};return i.forEach(o=>{const{ids:c,stackingOrder:u,stackingOffset:l}=o,h=mo().keys(c.map(d=>{const f=r[d].dataKey;return r[d].data===void 0&&f!==void 0?f:d})).value((d,f)=>d[f]??0).order(u).offset(l)(s);c.forEach((d,f)=>{const m=r[d].dataKey;a[d]=y({labelMarkType:"line"},r[d],{data:m?e.map(p=>{const g=p[m];return typeof g!="number"?null:g}):r[d].data,stackedData:h[f].map(([p,g])=>[p,g])})})}),{seriesOrder:n,stackingGroups:i,series:Nd(a,o=>o==null?"":o.toLocaleString())}},Hd=(t,e,n)=>{const r=n==null?void 0:n.colorScale,i=e==null?void 0:e.colorScale;return r?s=>{if(s===void 0)return t.color;const a=t.data[s],o=a===null?t.color:r(a);return o===null?t.color:o}:i?s=>{var c;if(s===void 0)return t.color;const a=(c=e.data)==null?void 0:c[s],o=a===null?t.color:i(a);return o===null?t.color:o}:()=>t.color},zd=t=>{const{seriesOrder:e,series:n}=t;return e.reduce((r,i)=>{const s=Tt(n[i].label,"legend");return s===void 0||r.push({markType:n[i].labelMarkType,id:i,seriesId:i,color:n[i].color,label:s}),r},[])},Yd=t=>{const{series:e,getColor:n,identifier:r}=t;if(!r||r.dataIndex===void 0)return null;const i=Tt(e.label,"tooltip"),s=e.data[r.dataIndex],a=e.valueFormatter(s,{dataIndex:r.dataIndex});return{identifier:r,color:n(r.dataIndex),label:i,value:s,formattedValue:a,markType:e.labelMarkType}},jd=t=>Object.values(t).map(e=>({direction:"x",axisId:e.xAxisId})),Xd=(t,e,n)=>y({id:t.id??`auto-generated-id-${e}`,color:n[e%n.length]},t),qd={colorProcessor:Hd,seriesProcessor:Ud,legendGetter:zd,tooltipGetter:Yd,axisTooltipGetter:jd,xExtremumGetter:_d,yExtremumGetter:Fd,getSeriesWithDefaultValues:Xd},Wd=(t="none")=>{if(typeof t=="function")return t;switch(t){case"none":return null;case"desc":return(e,n)=>n-e;case"asc":return(e,n)=>e-n;default:return null}},Kd=t=>{const{seriesOrder:e,series:n}=t,r={};return e.forEach(i=>{const s=cd().startAngle(2*Math.PI*(n[i].startAngle??0)/360).endAngle(2*Math.PI*(n[i].endAngle??360)/360).padAngle(2*Math.PI*(n[i].paddingAngle??0)/360).sortValues(Wd(n[i].sortingValues??"none"))(n[i].data.map(a=>a.value));r[i]=y({labelMarkType:"circle",valueFormatter:a=>a.value.toLocaleString()},n[i],{data:n[i].data.map((a,o)=>y({},a,{id:a.id??`auto-generated-pie-id-${i}-${o}`},s[o])).map((a,o)=>{var c,u;return y({labelMarkType:"circle"},a,{formattedValue:((u=(c=n[i]).valueFormatter)==null?void 0:u.call(c,y({},a,{label:Tt(a.label,"arc")}),{dataIndex:o}))??a.value.toLocaleString()})})})}),{seriesOrder:e,series:r}},Vd=t=>e=>t.data[e].color,Bd=t=>{const{seriesOrder:e,series:n}=t;return e.reduce((r,i)=>(n[i].data.forEach((s,a)=>{const o=Tt(s.label,"legend");o!==void 0&&r.push({markType:s.labelMarkType??n[i].labelMarkType,id:s.id??a,seriesId:i,color:s.color,label:o,itemId:s.id??a})}),r),[])},Zd=t=>{const{series:e,getColor:n,identifier:r}=t;if(!r||r.dataIndex===void 0)return null;const i=e.data[r.dataIndex];if(i==null)return null;const s=Tt(i.label,"tooltip"),a=y({},i,{label:s}),o=e.valueFormatter(a,{dataIndex:r.dataIndex});return{identifier:r,color:n(r.dataIndex),label:s,value:a,formattedValue:o,markType:i.labelMarkType??e.labelMarkType}},Qd=(t,e,n)=>y({id:t.id??`auto-generated-id-${e}`},t,{data:t.data.map((r,i)=>y({color:n[i%n.length]},r))}),Jd={colorProcessor:Vd,seriesProcessor:Kd,legendGetter:Bd,tooltipGetter:Zd,getSeriesWithDefaultValues:Qd},tf={bar:Ad,scatter:Gd,line:qd,pie:Jd},ef=[Hr,Pn,Lr,kn];function nf(t){const{children:e,plugins:n=ef,pluginParams:r={},seriesConfig:i=tf}=t,{contextValue:s}=vu(n,r,i);return G.jsx(ls.Provider,{value:s,children:e})}const xo=()=>{const t=A.useContext(ls);if(t==null)throw new Error(["MUI X Charts: Could not find the Chart context.","It looks like you rendered your component outside of a ChartDataProvider.","This can also happen if you are bundling multiple versions of the library."].join(`
`));return t};function Xt(){const t=xo();if(!t)throw new Error(["MUI X Charts: Could not find the charts context.","It looks like you rendered your component outside of a ChartContainer parent component."].join(`
`));return t.store}function wo(){const t=Xt();return Z(t,Ct)}function Mo(){const t=Xt();return Z(t,eu)}const sr=(t,e)=>t===void 0?e:Math.PI*t/180;function rf(){const t=Xt(),{axis:e,axisIds:n}=Z(t,kt);return{xAxis:e,xAxisIds:n}}function sf(){const t=Xt(),{axis:e,axisIds:n}=Z(t,Rt);return{yAxis:e,yAxisIds:n}}function of(){const t=Xt(),{axis:e,axisIds:n}=Z(t,qh)??{axis:{},axisIds:[]};return{zAxis:e,zAxisIds:n}}function af(){const t=xo();if(!t)throw new Error(["MUI X Charts: Could not find the svg ref context.","It looks like you rendered your component outside of a ChartContainer parent component."].join(`
`));return t.svgRef}function uf(){const t=Mo();return A.useCallback(e=>`${t}-gradient-${e}`,[t])}function cf(){const t=Mo();return A.useCallback(e=>`${t}-gradient-${e}-object-bound`,[t])}var lf=4,hf=.001,df=1e-7,ff=10,we=11,He=1/(we-1),mf=typeof Float32Array=="function";function bo(t,e){return 1-3*e+3*t}function Co(t,e){return 3*e-6*t}function Eo(t){return 3*t}function rn(t,e,n){return((bo(e,n)*t+Co(e,n))*t+Eo(e))*t}function To(t,e,n){return 3*bo(e,n)*t*t+2*Co(e,n)*t+Eo(e)}function pf(t,e,n,r,i){var s,a,o=0;do a=e+(n-e)/2,s=rn(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>df&&++o<ff);return a}function gf(t,e,n,r){for(var i=0;i<lf;++i){var s=To(e,n,r);if(s===0)return e;var a=rn(e,n,r)-t;e-=a/s}return e}function yf(t){return t}var vf=function(e,n,r,i){if(!(0<=e&&e<=1&&0<=r&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===n&&r===i)return yf;for(var s=mf?new Float32Array(we):new Array(we),a=0;a<we;++a)s[a]=rn(a*He,e,r);function o(c){for(var u=0,l=1,h=we-1;l!==h&&s[l]<=c;++l)u+=He;--l;var d=(c-s[l])/(s[l+1]-s[l]),f=u+d*He,m=To(f,e,r);return m>=hf?gf(c,f,e,r):m===0?f:pf(c,u,u+He,e,r)}return function(u){return u===0?0:u===1?1:rn(o(u),n,i)}};const xf=Uo(vf),wf=300,Mf=xf(.66,0,.34,1);var oe=0,Me=0,ve=0,So=1e3,sn,be,on=0,Ht=0,Rn=0,Ie=typeof performance=="object"&&performance.now?performance:Date,Ao=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function zr(){return Ht||(Ao(bf),Ht=Ie.now()+Rn)}function bf(){Ht=0}function an(){this._call=this._time=this._next=null}an.prototype=Io.prototype={constructor:an,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?zr():+n)+(e==null?0:+e),!this._next&&be!==this&&(be?be._next=this:sn=this,be=this),this._call=t,this._time=n,or()},stop:function(){this._call&&(this._call=null,this._time=1/0,or())}};function Io(t,e,n){var r=new an;return r.restart(t,e,n),r}function Cf(){zr(),++oe;for(var t=sn,e;t;)(e=Ht-t._time)>=0&&t._call.call(void 0,e),t=t._next;--oe}function qi(){Ht=(on=Ie.now())+Rn,oe=Me=0;try{Cf()}finally{oe=0,Tf(),Ht=0}}function Ef(){var t=Ie.now(),e=t-on;e>So&&(Rn-=e,on=t)}function Tf(){for(var t,e=sn,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:sn=n);be=t,or(r)}function or(t){if(!oe){Me&&(Me=clearTimeout(Me));var e=t-Ht;e>24?(t<1/0&&(Me=setTimeout(qi,t-Ie.now()-Rn)),ve&&(ve=clearInterval(ve))):(ve||(on=Ie.now(),ve=setInterval(Ef,So)),oe=1,Ao(qi))}}function Sf(t,e,n){var r=new an;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}class Af{constructor(e,n,r){R(this,"elapsed",0);R(this,"timer",null);this.duration=e,this.easingFn=n,this.onTickCallback=r,this.resume()}get running(){return this.timer!==null}timerCallback(e){this.elapsed=Math.min(e,this.duration);const n=this.duration===0?1:this.elapsed/this.duration,r=this.easingFn(n);this.onTickCallback(r),this.elapsed>=this.duration&&this.stop()}resume(){if(this.running||this.elapsed>=this.duration)return this;const e=zr()-this.elapsed;return this.timer=Io(n=>this.timerCallback(n),0,e),this}stop(){return this.running?(this.timer&&(this.timer.stop(),this.timer=null),this):this}finish(){return this.stop(),Sf(()=>this.timerCallback(this.duration)),this}}function If(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i+=1){const s=n[i];if(!Object.prototype.hasOwnProperty.call(e,s)||!Object.is(t[s],e[s]))return!1}return!0}function Df(t,{createInterpolator:e,applyProps:n,skip:r,initialProps:i=t}){const s=A.useRef(i),a=A.useRef(null),o=A.useRef(null),c=A.useRef(t);Dt(()=>{c.current=t},[t]),Dt(()=>{var h;r&&((h=a.current)==null||h.finish(),a.current=null,o.current=null,s.current=t)},[t,r]);const u=A.useCallback(h=>{const d=s.current,f=e(d,t);a.current=new Af(wf,Mf,m=>{const p=f(m);s.current=p,n(h,p)})},[n,e,t]);return[A.useCallback(h=>{var f,m,p,g;if(h===null){(f=a.current)==null||f.stop();return}const d=o.current;if(d===h){if(If(c.current,t)){(m=a.current)==null||m.resume();return}(p=a.current)==null||p.stop()}d&&((g=a.current)==null||g.stop()),o.current=h,(a.current||!r)&&u(h)},[u,t,r]),s.current]}function Pf(t,{createInterpolator:e,transformProps:n,applyProps:r,skip:i,initialProps:s=t,ref:a}){const o=n??(h=>h),[c,u]=Df(t,{initialProps:s,createInterpolator:e,applyProps:(h,d)=>r(h,o(d)),skip:i}),l=n(i?t:u);return y({},l,{ref:Vi(c,a)})}function kf(){return typeof window>"u"}const ze=new Map,Rf=2e3,$f=new Set(["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"]);function Do(t,e){return $f.has(t)&&e===+e?`${e}px`:e}const Of=/([A-Z])/g;function Po(t){return String(t).replace(Of,e=>`-${e.toLowerCase()}`)}function Gf(t){let e="";for(const n in t)if(Object.hasOwn(t,n)){const r=n,i=t[r];if(i===void 0)continue;e+=`${Po(r)}:${Do(r,i)};`}return e}const _f=(t,e={})=>{if(t==null||kf())return{width:0,height:0};const n=String(t),r=Gf(e),i=`${n}-${r}`,s=ze.get(i);if(s)return s;try{const a=Lf(),o=document.createElementNS("http://www.w3.org/2000/svg","text");Object.keys(e).map(l=>(o.style[Po(l)]=Do(l,e[l]),l)),o.textContent=n,a.replaceChildren(o);const c=o.getBoundingClientRect(),u={width:c.width,height:c.height};return ze.set(i,u),ze.size+1>Rf&&ze.clear(),u}catch{return{width:0,height:0}}};let J=null;function Lf(){return J===null&&(J=document.createElementNS("http://www.w3.org/2000/svg","svg"),J.setAttribute("aria-hidden","true"),J.style.position="absolute",J.style.top="-20000px",J.style.left="0",J.style.padding="0",J.style.margin="0",J.style.border="none",J.style.pointerEvents="none",J.style.visibility="hidden",J.style.contain="strict",document.body.appendChild(J)),J}function Ff({style:t,needsComputation:e,text:n}){return n.split(`
`).map(r=>y({text:r},e?_f(r,t):{width:0,height:0}))}function Nf(){const[t,e]=A.useState(typeof window<"u"||!1);return A.useEffect(()=>{e(!0)},[]),t}const Uf=["x","y","style","text","ownerState"],Hf=["angle","textAnchor","dominantBaseline"];function zf(t){const{x:e,y:n,style:r,text:i}=t,s=mt(t,Uf),a=r??{},{angle:o,textAnchor:c,dominantBaseline:u}=a,l=mt(a,Hf),h=Nf(),d=A.useMemo(()=>Ff({style:l,needsComputation:h&&i.includes(`
`),text:i}),[l,i,h]);let f;switch(u){case"hanging":case"text-before-edge":f=0;break;case"central":f=(d.length-1)/2*-d[0].height;break;default:f=(d.length-1)*-d[0].height;break}return G.jsx("text",y({},s,{transform:o?`rotate(${o}, ${e}, ${n})`:void 0,x:e,y:n,textAnchor:c,dominantBaseline:u,style:l,children:d.map((m,p)=>G.jsx("tspan",{x:e,dy:`${p===0?f:d[0].height}px`,dominantBaseline:u,children:m.text},p))}))}function Yf(t){const e=Xt(),n=Z(e,xa);return t||n}function Wi(t){const{isReversed:e,gradientId:n,size:r,direction:i,scale:s,colorMap:a}=t;return r<=0?null:G.jsx("linearGradient",{id:n,x1:"0",x2:"0",y1:"0",y2:"0",[`${i}${e?1:2}`]:`${r}px`,gradientUnits:"userSpaceOnUse",children:a.thresholds.map((o,c)=>{const u=s(o);if(u===void 0)return null;const l=e?1-u/r:u/r;return Number.isNaN(l)?null:G.jsxs(A.Fragment,{children:[G.jsx("stop",{offset:l,stopColor:a.colors[c],stopOpacity:1}),G.jsx("stop",{offset:l,stopColor:a.colors[c+1],stopOpacity:1})]},o.toString()+c)})})}const jf=10;function Ki(t){const{gradientUnits:e,isReversed:n,gradientId:r,size:i,direction:s,scale:a,colorScale:o,colorMap:c}=t,u=[c.min??0,c.max??100],l=u.map(a).filter(m=>m!==void 0);if(l.length!==2)return null;const h=typeof u[0]=="number"?ct(u[0],u[1]):wr(u[0],u[1]),d=Math.round((Math.max(...l)-Math.min(...l))/jf),f=`${u[0]}-${u[1]}-`;return G.jsx("linearGradient",{id:r,x1:"0",x2:"0",y1:"0",y2:"0",[`${s}${n?1:2}`]:e==="objectBoundingBox"?1:`${i}px`,gradientUnits:e??"userSpaceOnUse",children:Array.from({length:d+1},(m,p)=>{const g=h(p/d);if(g===void 0)return null;const w=a(g);if(w===void 0)return null;const T=n?1-w/i:w/i,M=o(g);return M===null?null:G.jsx("stop",{offset:T,stopColor:M,stopOpacity:1},f+p)})})}const Xf=10,qf=t=>t?{x1:"1",x2:"0",y1:"0",y2:"0"}:{x1:"0",x2:"1",y1:"0",y2:"0"};function qn(t){const{isReversed:e,gradientId:n,colorScale:r,colorMap:i}=t,s=[i.min??0,i.max??100],a=typeof s[0]=="number"?ct(s[0],s[1]):wr(s[0],s[1]),o=Xf,c=`${s[0]}-${s[1]}-`;return G.jsx("linearGradient",y({id:n},qf(e),{gradientUnits:"objectBoundingBox",children:Array.from({length:o+1},(u,l)=>{const h=l/o,d=a(h);if(d===void 0)return null;const f=r(d);return f===null?null:G.jsx("stop",{offset:h,stopColor:f,stopOpacity:1},c+l)})}))}function Wf(){const{top:t,height:e,bottom:n,left:r,width:i,right:s}=wo(),a=t+e+n,o=r+i+s,c=uf(),u=cf(),{xAxis:l,xAxisIds:h}=rf(),{yAxis:d,yAxisIds:f}=sf(),{zAxis:m,zAxisIds:p}=of(),g=f.filter(M=>d[M].colorMap!==void 0),w=h.filter(M=>l[M].colorMap!==void 0),T=p.filter(M=>m[M].colorMap!==void 0);return g.length===0&&w.length===0&&T.length===0?null:G.jsxs("defs",{children:[g.map(M=>{const b=c(M),C=u(M),{colorMap:v,scale:$,colorScale:P,reverse:L}=d[M];return(v==null?void 0:v.type)==="piecewise"?G.jsx(Wi,{isReversed:!L,scale:$,colorMap:v,size:a,gradientId:b,direction:"y"},b):(v==null?void 0:v.type)==="continuous"?G.jsxs(A.Fragment,{children:[G.jsx(Ki,{isReversed:!L,scale:$,colorScale:P,colorMap:v,size:a,gradientId:b,direction:"y"}),G.jsx(qn,{isReversed:L,colorScale:P,colorMap:v,gradientId:C})]},b):null}),w.map(M=>{const b=c(M),C=u(M),{colorMap:v,scale:$,reverse:P,colorScale:L}=l[M];return(v==null?void 0:v.type)==="piecewise"?G.jsx(Wi,{isReversed:P,scale:$,colorMap:v,size:o,gradientId:b,direction:"x"},b):(v==null?void 0:v.type)==="continuous"?G.jsxs(A.Fragment,{children:[G.jsx(Ki,{isReversed:P,scale:$,colorScale:L,colorMap:v,size:o,gradientId:b,direction:"x"}),G.jsx(qn,{isReversed:P,colorScale:L,colorMap:v,gradientId:C})]},b):null}),T.map(M=>{const b=u(M),{colorMap:C,colorScale:v}=m[M];return(C==null?void 0:C.type)==="continuous"?G.jsx(qn,{colorScale:v,colorMap:C,gradientId:b},b):null})]})}const Kf=["children","className","title","desc"],Vf=un("svg",{name:"MuiChartsSurface",slot:"Root"})(({ownerState:t,theme:e})=>({width:t.width??"100%",height:t.height??"100%",display:"flex",position:"relative",flexDirection:"column",alignItems:"center",justifyContent:"center",overflow:"hidden",touchAction:"pan-y",userSelect:"none",gridArea:"chart","&:focus":{outline:"none"},"&:focus-visible":{outline:`${(e.vars??e).palette.text.primary} solid 2px`,"&[data-has-focused-item=true]":{outline:"none"}},"& [data-focused=true]":{outline:`${(e.vars??e).palette.text.primary} solid 2px`}})),Bf=A.forwardRef(function(e,n){const r=Xt(),{width:i,height:s}=Z(r,Ba),{width:a,height:o}=Z(r,Va),c=Z(r,jh),u=Z(r,Yh),l=af(),h=Vi(l,n),d=Wo({props:e,name:"MuiChartsSurface"}),{children:f,className:m,title:p,desc:g}=d,w=mt(d,Kf),T=s>0&&i>0;return G.jsxs(Vf,y({ownerState:{width:a,height:o},viewBox:`0 0 ${i} ${s}`,className:m,tabIndex:c?0:void 0,"data-has-focused-item":u||void 0},w,{ref:h,children:[p&&G.jsx("title",{children:p}),g&&G.jsx("desc",{children:g}),G.jsx(Wf,{}),T&&f]}))});function xe(t,e){if(typeof t=="number")return t;if(t==="100%")return e;if(t.endsWith("%")){const n=Number.parseFloat(t.slice(0,t.length-1));if(!Number.isNaN(n))return n*e/100}if(t.endsWith("px")){const n=Number.parseFloat(t.slice(0,t.length-2));if(!Number.isNaN(n))return n}throw new Error(`MUI X Charts: Received an unknown value "${t}". It should be a number, or a string with a percentage value.`)}function Wn(t){const e=sr(t);return[Math.sin(e),-Math.cos(e)]}function Zf(t,e){const n=[[0,0],Wn(t),Wn(e)],r=Math.min(t,e),i=Math.max(t,e),s=Math.floor(r/90)*90;for(let l=1;l<=4;l+=1){const h=s+l*90;h<i&&n.push(Wn(h))}const a=Math.min(...n.map(([l])=>l)),o=Math.max(...n.map(([l])=>l)),c=Math.min(...n.map(([,l])=>l)),u=Math.max(...n.map(([,l])=>l));return{cx:-a/(o-a),cy:-c/(u-c),minX:a,maxX:o,minY:c,maxY:u}}function Qf(t,e,n,r,{minX:i,maxX:s,minY:a,maxY:o}){return Math.min(...[{ratio:Math.abs(i),space:t},{ratio:Math.abs(s),space:n-t},{ratio:Math.abs(a),space:e},{ratio:Math.abs(o),space:r-e}].map(({ratio:c,space:u})=>c<1e-5?1/0:u/c))}const ko=A.createContext({value:null,valueMin:0,valueMax:0,startAngle:0,endAngle:0,innerRadius:0,outerRadius:0,cornerRadius:0,cx:0,cy:0,maxRadius:0,valueAngle:null});function Jf(t){const{value:e=null,valueMin:n=0,valueMax:r=100,startAngle:i=0,endAngle:s=360,outerRadius:a,innerRadius:o,cornerRadius:c,cx:u,cy:l,children:h}=t,{left:d,top:f,width:m,height:p}=wo(),g=Zf(i,s),w=u?xe(u,m):g.cx*m,T=l?xe(l,p):g.cy*p;let M=d+w,b=f+T;const C=Qf(w,T,m,p,g);if(u===void 0){const F=C*(g.maxX-g.minX);M=d+(m-F)/2+g.cx*F}if(l===void 0){const F=C*(g.maxY-g.minY);b=f+(p-F)/2+g.cy*F}const v=xe(a??C,C),$=xe(o??"80%",C),P=xe(c??0,v-$),L=A.useMemo(()=>{const F=sr(i),D=sr(s);return{value:e,valueMin:n,valueMax:r,startAngle:F,endAngle:D,outerRadius:v,innerRadius:$,cornerRadius:P,cx:M,cy:b,maxRadius:C,valueAngle:e===null?null:F+(D-F)*(e-n)/(r-n)}},[e,n,r,i,s,v,$,P,M,b,C]);return G.jsx(ko.Provider,{value:L,children:h})}function Yr(){return A.useContext(ko)}const tm=["width","height","margin","title","desc","value","valueMin","valueMax","startAngle","endAngle","outerRadius","innerRadius","cornerRadius","cx","cy","children"],em=un("g")(({theme:t})=>({"& text":{fill:(t.vars||t).palette.text.primary}})),nm=A.forwardRef(function(e,n){const{width:r,height:i,margin:s,title:a,desc:o,value:c,valueMin:u=0,valueMax:l=100,startAngle:h,endAngle:d,outerRadius:f,innerRadius:m,cornerRadius:p,cx:g,cy:w,children:T}=e,M=mt(e,tm);return G.jsx(nf,{pluginParams:{width:r,height:i,margin:ss(s,{left:10,right:10,top:10,bottom:10})},plugins:[],children:G.jsx(Jf,{value:c,valueMin:u,valueMax:l,startAngle:h,endAngle:d,outerRadius:f,innerRadius:m,cornerRadius:p,cx:g,cy:w,children:G.jsx(Bf,y({title:a,desc:o,role:"meter","aria-valuenow":c===null?void 0:c,"aria-valuemin":u,"aria-valuemax":l},M,{ref:n,children:G.jsx(em,{"aria-hidden":"true",children:T})}))})})});function rm(t,e){const n=ct(t.startAngle,e.startAngle),r=ct(t.endAngle,e.endAngle),i=ct(t.innerRadius,e.innerRadius),s=ct(t.outerRadius,e.outerRadius),a=ct(t.cornerRadius,e.cornerRadius);return o=>({startAngle:n(o),endAngle:r(o),innerRadius:i(o),outerRadius:s(o),cornerRadius:a(o)})}function im(t){return Pf({startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius},{createInterpolator:rm,transformProps:e=>({d:ho().cornerRadius(e.cornerRadius)({innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle})}),applyProps(e,n){e.setAttribute("d",n.d)},initialProps:{startAngle:t.startAngle,endAngle:t.startAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius},skip:t.skipAnimation,ref:t.ref})}function sm(t){return Ho("MuiGauge",t)}const jr=zo("MuiGauge",["root","valueArc","referenceArc","valueText"]),om=["className"],am=["cx","cy","startAngle","endAngle","cornerRadius","innerRadius","outerRadius","skipAnimation"],um=un("path",{name:"MuiGauge",slot:"ValueArc"})(({theme:t})=>({fill:(t.vars||t).palette.primary.main}));function cm(t){let{className:e}=t,n=mt(t,om);const{value:r,valueMin:i,valueMax:s,startAngle:a,endAngle:o,outerRadius:c,innerRadius:u,cornerRadius:l,cx:h,cy:d}=Yr();if(r===null)return null;const f=a+(r-i)/(s-i)*(o-a);return G.jsx(lm,y({},n,{className:cn(jr.valueArc,e),cx:h,cy:d,startAngle:a,endAngle:f,cornerRadius:l,innerRadius:u,outerRadius:c}))}function lm(t){let{cx:e,cy:n,startAngle:r,endAngle:i,cornerRadius:s,innerRadius:a,outerRadius:o,skipAnimation:c}=t,u=mt(t,am);const l=Yf(c),h=im({startAngle:r,endAngle:i,cornerRadius:s,innerRadius:a,outerRadius:o,skipAnimation:l});return G.jsx(um,y({},h,{transform:`translate(${e}, ${n})`},u))}const hm=["className"],dm=un("path",{name:"MuiGauge",slot:"ReferenceArc"})(({theme:t})=>({fill:(t.vars||t).palette.divider}));function fm(t){let{className:e}=t,n=mt(t,hm);const{startAngle:r,endAngle:i,outerRadius:s,innerRadius:a,cornerRadius:o,cx:c,cy:u}=Yr();return G.jsx(dm,y({className:cn(jr.referenceArc,e),transform:`translate(${c}, ${u})`,d:ho().cornerRadius(o)({startAngle:r,endAngle:i,innerRadius:a,outerRadius:s})},n))}const mm=["text","className"];function pm({value:t}){return t===null?null:t.toLocaleString()}function gm(t){const{text:e=pm,className:n}=t,r=mt(t,mm),{value:i,valueMin:s,valueMax:a,cx:o,cy:c}=Yr(),u=typeof e=="function"?e({value:i,valueMin:s,valueMax:a}):e;return u===null?null:G.jsx("g",{className:cn(jr.valueText,n),children:G.jsx(zf,y({x:o,y:c,text:u,style:{textAnchor:"middle",dominantBaseline:"central"}},r))})}const ym=["text","children","classes","className","skipAnimation"],vm=t=>{const{classes:e}=t;return Yo({root:["root"]},sm,e)},xm=A.forwardRef(function(e,n){const{text:r,children:i,className:s,skipAnimation:a}=e,o=mt(e,ym),c=vm(e);return G.jsxs(nm,y({},o,{className:cn(c.root,s),ref:n,children:[G.jsx(fm,{}),G.jsx(cm,{skipAnimation:a}),G.jsx(gm,{text:r}),i]}))}),wm=({properties:t,resolvedValues:e,width:n,height:r})=>{const i=t.sensorTag||"",s=t.minValue??0,a=t.maxValue??100,o=t.startAngle??-90,c=t.endAngle??90,u=t.innerRadius||"70%",l=t.outerRadius||"100%",h=t.cornerRadius||"50%",d=t.valueLabel||"",f=t.showValue!==!1,m=t.gaugeColor||"#2196f3",p=t.referenceArcColor||"#e0e0e0",g=t.textColor||"#333333",w=t.textFontSize||0,T=t.textFontFamily||"Roboto, sans-serif",M=t.textFontWeight||600,b=t.backgroundColor||"transparent",C=A.useMemo(()=>{if(!i)return 0;const P=e[i];if(P==null||typeof P!="object"||!("value"in P))return 0;const L=P.value,F=typeof L=="string"?parseFloat(L):L;return isNaN(F)?0:F},[i,e]),v=A.useMemo(()=>Math.max(s,Math.min(a,C)),[C,s,a]),$=w>0?w:Math.min(n,r)*.15;return G.jsx("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:b,overflow:"hidden"},children:G.jsx(xm,{width:n,height:r,value:v,valueMin:s,valueMax:a,startAngle:o,endAngle:c,innerRadius:u,outerRadius:l,cornerRadius:h,text:f?P=>`${P.value??0}${d}`:()=>"",sx:{"& .MuiGauge-valueArc":{fill:m},"& .MuiGauge-referenceArc":{fill:p},"& .MuiGauge-valueText":{fontSize:`${$}px !important`,fontWeight:`${M} !important`,fontFamily:`${T} !important`,fill:`${g} !important`},"& text":{fill:`${g} !important`,fontSize:`${$}px !important`,fontWeight:`${M} !important`,fontFamily:`${T} !important`}}})})},Cm=jo.memo(wm);export{Cm as default};
